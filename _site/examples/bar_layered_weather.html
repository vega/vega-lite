<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />

    <link rel="shortcut icon" href="https://vega.github.io/favicon.ico" />

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Weekly Weather Plot | Vega-Lite</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Weekly Weather Plot" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Inspired by this Vega example. Weekly weather data plot representing high/low ranges of record temperatures (light grey), average temperatures (dark grey), and both predicted and observed temperatures (black) for the given week. The first five days have high/low ranges of observed temperatures, and the last five days have ranges of predicted temperatures, where the upper barbell represents the range of high temperature predictions and the lower barbell represents the range of low temperature predictions. Created by @melissatdiamond." />
<meta property="og:description" content="Inspired by this Vega example. Weekly weather data plot representing high/low ranges of record temperatures (light grey), average temperatures (dark grey), and both predicted and observed temperatures (black) for the given week. The first five days have high/low ranges of observed temperatures, and the last five days have ranges of predicted temperatures, where the upper barbell represents the range of high temperature predictions and the lower barbell represents the range of low temperature predictions. Created by @melissatdiamond." />
<link rel="canonical" href="https://vega.github.io/vega-lite/examples/bar_layered_weather.html" />
<meta property="og:url" content="https://vega.github.io/vega-lite/examples/bar_layered_weather.html" />
<meta property="og:site_name" content="Vega-Lite" />
<meta property="og:image" content="https://vega.github.io/vega-lite/examples/compiled/bar_layered_weather.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@vega_vis" />
<script type="application/ld+json">
{"headline":"Weekly Weather Plot","url":"https://vega.github.io/vega-lite/examples/bar_layered_weather.html","image":"https://vega.github.io/vega-lite/examples/compiled/bar_layered_weather.png","description":"Inspired by this Vega example. Weekly weather data plot representing high/low ranges of record temperatures (light grey), average temperatures (dark grey), and both predicted and observed temperatures (black) for the given week. The first five days have high/low ranges of observed temperatures, and the last five days have ranges of predicted temperatures, where the upper barbell represents the range of high temperature predictions and the lower barbell represents the range of low temperature predictions. Created by @melissatdiamond.","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <script>
      const BASEURL = window.location.origin + '/vega-lite';
    </script>

    <link rel="stylesheet" href="/vega-lite/static/github.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/octicons@4.4.0/build/font/octicons.min.css" />
    <link rel="stylesheet" href="/vega-lite/static/main.css" />
  </head>
  <body>
    <div class="fill">
  <header>
    <nav class="page-centered">
      <div class="dropdown">
        <a class="vl-title" href="/vega-lite/">Vega-Lite</a>
        <div class="dropdown-content">
          <a href="https://vega.github.io/vega/">Vega</a>
          <a href="https://altair-viz.github.io/">Altair</a>
        </div>
      </div>
      <div class="vl-links">
        <div class="primary-links">
          <a href="/vega-lite/examples/" class="active">Examples</a>
          <a href="/vega-lite/tutorials/getting_started.html">Tutorials</a>
          <a href="/vega-lite/docs/">Documentation</a>
          <a href="/vega-lite/usage/embed.html">Usage</a>
          <a href="/vega-lite/ecosystem.html">Ecosystem</a>
        </div>
        <div class="secondary-links">
          <a href="https://www.github.com/vega/vega-lite">GitHub</a>
          <a href="https://vega.github.io/editor/#/custom/vega-lite">Try Online</a>
        </div>
      </div>
    </nav>
  </header>
  <section class="examples">
    <div class="page-centered page-content">
  
    <h1>Weekly Weather Plot</h1>
  
  <p>Inspired by <a href="https://vega.github.io/vega-editor/?mode=vega&amp;spec=weather">this Vega example</a>. Weekly weather data plot representing high/low ranges of record temperatures (light grey), average temperatures (dark grey), and both predicted and observed temperatures (black) for the given week. The first five days have high/low ranges of observed temperatures, and the last five days have ranges of predicted temperatures, where the upper barbell represents the range of high temperature predictions and the lower barbell represents the range of low temperature predictions. Created by <a href="https://github.com/melissatdiamond" class="user-mention">@melissatdiamond</a>.</p>

<div id="bar_layered_weather"></div>

<script>
    window.onload = function() {
      const spec = {
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "description": "A layered bar chart with floating bars representing weekly weather data",
  "title": {
    "text": "Weekly Weather Observations and Predictions",
    "frame": "bounds"
  },
  "data": {
    "url": "data/weather.json"
  },
  "width": 250,
  "height": 200,
  "encoding": {
    "x": {
      "field": "id",
      "type": "ordinal",
      "axis": {
        "domain": false,
        "ticks": false,
        "labels": false,
        "title": "Day",
        "titlePadding": 25,
        "orient": "top"
      }
    }
  },
  "layer": [
    {
      "mark": {
        "type": "bar",
        "style": "box"
      },
      "encoding": {
        "y": {
          "field": "record.low",
          "type": "quantitative",
          "scale": {"domain": [10, 70]},
          "axis": {"title": "Temperature (F)"}
        },
        "y2": {"field": "record.high"},
        "size": {"value": 20},
        "color": {"value": "#ccc"}
      }
    },
    {
      "mark": {
        "type": "bar",
        "style": "box"
      },
      "encoding": {
        "y": {
          "field": "normal.low",
          "type": "quantitative"
        },
        "y2": {"field": "normal.high"},
        "size": {"value": 20},
        "color": {"value": "#999"}
      }
    },
    {
      "mark": {"type": "bar", "style": "box"},
      "encoding": {
        "y": {
          "field": "actual.low",
          "type": "quantitative"
        },
        "y2": {"field": "actual.high"},
        "size": {"value": 12},
        "color": {"value": "#000"}
      }
    },
    {
      "mark": {"type": "bar", "style": "box"},
      "encoding": {
        "y": {
          "field": "forecast.low.low",
          "type": "quantitative"
        },
        "y2": {"field": "forecast.low.high"},
        "size": {"value": 12},
        "color": {"value": "#000"}
      }
    },
    {
      "mark": {"type": "bar", "style": "box"},
      "encoding": {
        "y": {
          "field": "forecast.low.high",
          "type": "quantitative"
        },
        "y2": {"field": "forecast.high.low"},
        "size": {"value": 3},
        "color": {"value": "#000"}
      }
    },
    {
      "mark": {"type": "bar", "style": "box"},
      "encoding": {
        "y": {
          "field": "forecast.high.low",
          "type": "quantitative"
        },
        "y2": {"field": "forecast.high.high"},
        "size": {"value": 12},
        "color": {"value": "#000"}
      }
    },
    {
      "mark": {"type": "text", "align": "center", "baseline": "bottom", "y": -5},
      "encoding": {
        "text": {
          "field": "day",
          "type": "nominal"
        }
      }
    }
  ]
}
;

      embedExample('#bar_layered_weather', spec, false);
  }
</script>

<p><a href="https://vega.github.io/editor/#/examples/vega-lite/bar_layered_weather">
  View this example in the online editor
</a></p>

<h3 id="spec">Vega-Lite JSON Specification</h3>

<pre class="example-spec"><code class="language-json">{
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "description": "A layered bar chart with floating bars representing weekly weather data",
  "title": {
    "text": "Weekly Weather Observations and Predictions",
    "frame": "bounds"
  },
  "data": {
    "url": "data/weather.json"
  },
  "width": 250,
  "height": 200,
  "encoding": {
    "x": {
      "field": "id",
      "type": "ordinal",
      "axis": {
        "domain": false,
        "ticks": false,
        "labels": false,
        "title": "Day",
        "titlePadding": 25,
        "orient": "top"
      }
    }
  },
  "layer": [
    {
      "mark": {
        "type": "bar",
        "style": "box"
      },
      "encoding": {
        "y": {
          "field": "record.low",
          "type": "quantitative",
          "scale": {"domain": [10, 70]},
          "axis": {"title": "Temperature (F)"}
        },
        "y2": {"field": "record.high"},
        "size": {"value": 20},
        "color": {"value": "#ccc"}
      }
    },
    {
      "mark": {
        "type": "bar",
        "style": "box"
      },
      "encoding": {
        "y": {
          "field": "normal.low",
          "type": "quantitative"
        },
        "y2": {"field": "normal.high"},
        "size": {"value": 20},
        "color": {"value": "#999"}
      }
    },
    {
      "mark": {"type": "bar", "style": "box"},
      "encoding": {
        "y": {
          "field": "actual.low",
          "type": "quantitative"
        },
        "y2": {"field": "actual.high"},
        "size": {"value": 12},
        "color": {"value": "#000"}
      }
    },
    {
      "mark": {"type": "bar", "style": "box"},
      "encoding": {
        "y": {
          "field": "forecast.low.low",
          "type": "quantitative"
        },
        "y2": {"field": "forecast.low.high"},
        "size": {"value": 12},
        "color": {"value": "#000"}
      }
    },
    {
      "mark": {"type": "bar", "style": "box"},
      "encoding": {
        "y": {
          "field": "forecast.low.high",
          "type": "quantitative"
        },
        "y2": {"field": "forecast.high.low"},
        "size": {"value": 3},
        "color": {"value": "#000"}
      }
    },
    {
      "mark": {"type": "bar", "style": "box"},
      "encoding": {
        "y": {
          "field": "forecast.high.low",
          "type": "quantitative"
        },
        "y2": {"field": "forecast.high.high"},
        "size": {"value": 12},
        "color": {"value": "#000"}
      }
    },
    {
      "mark": {"type": "text", "align": "center", "baseline": "bottom", "y": -5},
      "encoding": {
        "text": {
          "field": "day",
          "type": "nominal"
        }
      }
    }
  ]
}

</code></pre>


</div>

  </section>
</div>

<footer>
  <div class="page-centered">
   <span class="edit-page">
      <a href="https://github.com/vega/vega-lite/edit/master/_data/examples.json">Edit this page</a> and submit a pull request!
    </span>

    <a href="http://idl.cs.washington.edu" title="UW Interactive Data Lab" class="idl-logo"><img src="/vega-lite/static/idl-logo.png"></a>
  </div>
</footer>

    <script src="/vega-lite/static/bundle.js"></script>
    <script>
      // Google Analytics
      (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        (i[r] =
          i[r] ||
          function() {
            (i[r].q = i[r].q || []).push(arguments);
          }),
          (i[r].l = 1 * new Date());
        (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
      })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

      ga('create', 'UA-44428446-6', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
