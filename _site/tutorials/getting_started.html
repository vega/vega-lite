<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />

    <link rel="shortcut icon" href="https://vega.github.io/favicon.ico" />

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Introduction to Vega-Lite | Vega-Lite</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Introduction to Vega-Lite" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Vega-Lite - a high-level grammar for statistical graphics. Vega-Lite provides a higher-level grammar for visual analysis, comparable to ggplot or Tableau, that generates complete Vega specifications. Vega-Lite specifications consist of simple mappings of variables in a data set to visual encoding channels such as x, y, color, and size. These mappings are then translated into detailed visualization specifications in the form of Vega specification language. Vega-Lite produces default values for visualization components (e.g., scales, axes, and legends) in the output Vega specification using a rule-based approach, but users can explicit specify these properties to override default values." />
<meta property="og:description" content="Vega-Lite - a high-level grammar for statistical graphics. Vega-Lite provides a higher-level grammar for visual analysis, comparable to ggplot or Tableau, that generates complete Vega specifications. Vega-Lite specifications consist of simple mappings of variables in a data set to visual encoding channels such as x, y, color, and size. These mappings are then translated into detailed visualization specifications in the form of Vega specification language. Vega-Lite produces default values for visualization components (e.g., scales, axes, and legends) in the output Vega specification using a rule-based approach, but users can explicit specify these properties to override default values." />
<link rel="canonical" href="https://vega.github.io/vega-lite/tutorials/getting_started.html" />
<meta property="og:url" content="https://vega.github.io/vega-lite/tutorials/getting_started.html" />
<meta property="og:site_name" content="Vega-Lite" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@vega_vis" />
<script type="application/ld+json">
{"headline":"Introduction to Vega-Lite","url":"https://vega.github.io/vega-lite/tutorials/getting_started.html","description":"Vega-Lite - a high-level grammar for statistical graphics. Vega-Lite provides a higher-level grammar for visual analysis, comparable to ggplot or Tableau, that generates complete Vega specifications. Vega-Lite specifications consist of simple mappings of variables in a data set to visual encoding channels such as x, y, color, and size. These mappings are then translated into detailed visualization specifications in the form of Vega specification language. Vega-Lite produces default values for visualization components (e.g., scales, axes, and legends) in the output Vega specification using a rule-based approach, but users can explicit specify these properties to override default values.","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <script>
      const BASEURL = window.location.origin + '/vega-lite';
    </script>

    <link rel="stylesheet" href="/vega-lite/static/github.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/octicons@4.4.0/build/font/octicons.min.css" />
    <link rel="stylesheet" href="/vega-lite/static/main.css" />
  </head>
  <body>
    <div class="fill">
  <header>
    <nav class="page-centered">
      <div class="dropdown">
        <a class="vl-title" href="/vega-lite/">Vega-Lite</a>
        <div class="dropdown-content">
          <a href="https://vega.github.io/vega/">Vega</a>
          <a href="https://altair-viz.github.io/">Altair</a>
        </div>
      </div>
      <div class="vl-links">
        <div class="primary-links">
          <a href="/vega-lite/examples/" >Examples</a>
          <a href="/vega-lite/tutorials/getting_started.html" class="active">Tutorials</a>
          <a href="/vega-lite/docs/" >Documentation</a>
          <a href="/vega-lite/usage/embed.html" >Usage</a>
          <a href="/vega-lite/ecosystem.html" >Ecosystem</a>
        </div>
        <div class="secondary-links">
          <a href="https://www.github.com/vega/vega-lite">GitHub</a>
          <a href="https://vega.github.io/editor/#/custom/vega-lite">Try Online</a>
        </div>
      </div>
    </nav>
  </header>
  <section class="tutorials">
    


<div class="sub-nav">
  <nav class="page-centered">
    
    <a class="active"
        href="/vega-lite/tutorials/getting_started.html" title="">Getting Started
    </a>
    
    <a 
        href="/vega-lite/tutorials/explore.html" title="">Exploring Data
    </a>
    
    <a 
        href="/vega-lite/tutorials/figures.html" title="">Paper Figures
    </a>
    
    <a 
        href="/vega-lite/tutorials/streaming.html" title="">Streaming Data
    </a>
    
  </nav>
</div>


<div class="page-centered page-main">
  

  <section class="page-content">
    <h1>Introduction to Vega-Lite</h1>
    <p>This tutorial will guide through the process of writing a visualization specification in Vega-Lite. We will walk you through all main components of Vega-Lite by adding each of them to an example specification one-by-one. After creating the example visualization, we will also guide you how to embed the final visualization on a web page.</p>

<p>We suggest that you follow along the tutorial by building a visualization in the <a href="https://vega.github.io/editor/#/custom/vega-lite">online editor</a>. Extend your specification in the editor as you read through this tutorial. If something does not work as expected, compare your specifications with ones inside this tutorial.</p>

<h2 id="tutorial-overview">Tutorial Overview</h2>

<!-- prettier-ignore -->
<ul id="markdown-toc">
  <li><a href="#tutorial-overview" id="markdown-toc-tutorial-overview">Tutorial Overview</a></li>
  <li><a href="#the-data" id="markdown-toc-the-data">The Data</a></li>
  <li><a href="#encoding-data-with-marks" id="markdown-toc-encoding-data-with-marks">Encoding Data with Marks</a></li>
  <li><a href="#data-transformation-aggregation" id="markdown-toc-data-transformation-aggregation">Data Transformation: Aggregation</a></li>
  <li><a href="#customize-your-visualization" id="markdown-toc-customize-your-visualization">Customize your Visualization</a></li>
  <li><a href="#embed" id="markdown-toc-embed">Publish your Visualization Online</a></li>
  <li><a href="#next-steps" id="markdown-toc-next-steps">Next Steps</a></li>
</ul>

<h2 id="the-data">The Data</h2>

<p>Let’s say you have a tabular data set with a categorical variable in the first column <code>a</code> and a numerical variable in the second column <code>b</code>.</p>

<table class="small-table">
  <thead>
    <tr>
      <th>a</th>
      <th>b</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>C</td>
      <td>2</td>
    </tr>
    <tr>
      <td>C</td>
      <td>7</td>
    </tr>
    <tr>
      <td>C</td>
      <td>4</td>
    </tr>
    <tr>
      <td>D</td>
      <td>1</td>
    </tr>
    <tr>
      <td>D</td>
      <td>2</td>
    </tr>
    <tr>
      <td>D</td>
      <td>6</td>
    </tr>
    <tr>
      <td>E</td>
      <td>8</td>
    </tr>
    <tr>
      <td>E</td>
      <td>4</td>
    </tr>
    <tr>
      <td>E</td>
      <td>7</td>
    </tr>
  </tbody>
</table>

<p>We can represent this data as a <a href="http://www.json.org/">JSON array</a> in which each row is an object in the array.</p>

<pre><code class="language-json">[
  {"a": "C", "b": 2},
  {"a": "C", "b": 7},
  {"a": "C", "b": 4},
  {"a": "D", "b": 1},
  {"a": "D", "b": 2},
  {"a": "D", "b": 6},
  {"a": "E", "b": 8},
  {"a": "E", "b": 4},
  {"a": "E", "b": 7}
]
</code></pre>

<p>To visualize this data with Vega-Lite, we can add it directly to the <code>data</code> property in a Vega-Lite specification.</p>

<pre><code class="language-json">{
  "data": {
    "values": [
      {"a": "C", "b": 2},
      {"a": "C", "b": 7},
      {"a": "C", "b": 4},
      {"a": "D", "b": 1},
      {"a": "D", "b": 2},
      {"a": "D", "b": 6},
      {"a": "E", "b": 8},
      {"a": "E", "b": 4},
      {"a": "E", "b": 7}
    ]
  }
}
</code></pre>

<p>The <a href="/vega-lite/docs/data.html"><code>data</code></a> property defines the data source of the visualization. In this example, we embed the data inline by directly setting <code>values</code> property. Vega-Lite also supports <a href="/vega-lite/docs/data.html">other types of data sources</a> besides inline data.</p>

<h2 id="encoding-data-with-marks">Encoding Data with Marks</h2>

<p>Now we have a data source but we haven’t defined yet how the data should be visualized.</p>

<p>Basic graphical elements in Vega-Lite are <a href="/vega-lite/docs/mark.html"><em>marks</em></a>. Marks provide basic shapes whose properties (such as position, size, and color) can be used to visually encode data, either from a data field (or a variable), or a constant value.</p>

<p>To show the data as a point, we can set the <code>mark</code> property to <code>point</code>.</p>

<div class="vl-example" data-name="point_overlap"></div>

<p>Now, it looks like we get a point. In fact, Vega-Lite renders one point for each object in the array, but they are all overlapping since we have not specified each point’s position.</p>

<p>To visually separate the points, data variables can be mapped to visual properties of a mark. For example, we can <a href="/vega-lite/docs/encoding.html"><em>encode</em></a> the variable <code>a</code> of the data with <code>x</code> channel, which represents the x-position of the points. We can do that by adding an <code>encoding</code> object with its key <code>x</code> mapped to a channel definition that describes variable <code>a</code>.</p>

<pre><code class="language-js">...
"encoding": {
  "x": {"field": "a", "type": "nominal"}
}
...
</code></pre>

<div class="vl-example" data-name="point_1d_array"></div>

<p>The <a href="/vega-lite/docs/encoding.html"><code>encoding</code></a> object is a key-value mapping between encoding channels (such as <code>x</code>, <code>y</code>) and definitions of the mapped data fields. The channel definition describes the field’s name (<code>field</code>) and its <a href="/vega-lite/docs/encoding.html#type">data type</a> (<code>type</code>). In this example, we map the values for field <code>a</code> to the <em>encoding channel</em> <code>x</code> (the x-location of the points) and set <code>a</code>’s data type to <code>nominal</code>, since it represents categories. (See <a href="/vega-lite/docs/encoding.html#type">the documentation for more information about data types</a>.)</p>

<p>In the visualization above, Vega-Lite automatically adds an axis with labels for the different categories as well as an axis title. However, 3 points in each category are still overlapping. So far, we have only defined a visual encoding for the field <code>a</code>. We can also map the field <code>b</code> to the <code>y</code> channel.</p>

<pre><code class="language-js">...
"y": {"field": "b", "type": "quantitative"}
...
</code></pre>

<p>This time we set the field type to be <code>quantitative</code> because the values in field <code>b</code> are numeric.</p>

<div class="vl-example" data-name="point_2d_array"></div>

<p>Now we can see the raw data points. Note that Vega-Lite automatically adds grid lines to the y-axis to facilitate comparison of the <code>b</code> values.</p>

<h2 id="data-transformation-aggregation">Data Transformation: Aggregation</h2>

<p>Vega-Lite also supports data transformation such as aggregation. By adding <code>"aggregate": "average"</code> to the definition of the <code>y</code> channel, we can see the average value of <code>a</code> in each category. For example, the average value of category <code>D</code> is <code>(1 + 2 + 6)/3 = 9/3 = 3</code>.</p>

<div class="vl-example" data-name="point_2d_aggregate"></div>

<p>Great! You computed the aggregate values for each category and visualized the resulting value as a point. Typically aggregated values for categories are visualized using bar charts. To create a bar chart, we have to change the mark type from <code>point</code> to <code>bar</code>.</p>

<pre><code class="language-diff">- "mark": "point"
+ "mark": "bar"
</code></pre>

<div class="vl-example" data-name="bar_array_aggregate"></div>

<p>Since the quantitative value is on <code>y</code>, you automatically get a vertical bar chart. If we swap the <code>x</code> and <code>y</code> channel, we get a horizontal bar chart instead.</p>

<div class="vl-example" data-name="bar_swap_axes"></div>

<h2 id="customize-your-visualization">Customize your Visualization</h2>

<!-- TODO need to find a way to talk about conciseness here somehow. -->

<p>Vega-Lite automatically provides default properties for the visualization. You can further customize these values by adding more properties. For example, to change the title of the x-axis from <code>Average of b</code> to <code>Mean of b</code>, we can set the title property of the axis in the <code>x</code> channel.</p>

<div class="vl-example" data-name="bar_swap_custom"></div>

<h2 id="embed">Publish your Visualization Online</h2>

<p>You have learned about basic components of a Vega-Lite specification. Now, let’s see how to publish your visualization.</p>

<p>You can use <a href="https://github.com/vega/vega-embed">Vega-Embed</a> to embed your Vega-Lite visualization in a webpage. For example, you can create a web page with the following content:</p>

<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Vega-Lite Bar Chart&lt;/title&gt;
    &lt;meta charset="utf-8" /&gt;

    &lt;script src="https://cdn.jsdelivr.net/npm/vega@5.6.0"&gt;&lt;/script&gt;
    &lt;script src="https://cdn.jsdelivr.net/npm/vega-lite@4.0.0-beta.2"&gt;&lt;/script&gt;
    &lt;script src="https://cdn.jsdelivr.net/npm/vega-embed@5.1.3"&gt;&lt;/script&gt;

    &lt;style media="screen"&gt;
      /* Add space between Vega-Embed links  */
      .vega-actions a {
        margin-right: 5px;
      }
    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Template for Embedding Vega-Lite Visualization&lt;/h1&gt;
    &lt;!-- Container for the visualization --&gt;
    &lt;div id="vis"&gt;&lt;/div&gt;

    &lt;script&gt;
      // Assign the specification to a local variable vlSpec.
      var vlSpec = {
        $schema: 'https://vega.github.io/schema/vega-lite/v4.json',
        data: {
          values: [
            {a: 'C', b: 2},
            {a: 'C', b: 7},
            {a: 'C', b: 4},
            {a: 'D', b: 1},
            {a: 'D', b: 2},
            {a: 'D', b: 6},
            {a: 'E', b: 8},
            {a: 'E', b: 4},
            {a: 'E', b: 7}
          ]
        },
        mark: 'bar',
        encoding: {
          y: {field: 'a', type: 'nominal'},
          x: {
            aggregate: 'average',
            field: 'b',
            type: 'quantitative',
            axis: {
              title: 'Average of b'
            }
          }
        }
      };

      // Embed the visualization in the container with id `vis`
      vegaEmbed('#vis', vlSpec);
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>In this webpage, we first load the dependencies for Vega-Lite (Vega-Embed, Vega, and Vega-Lite) in the <code>&lt;head/&gt;</code> tag of the document. We also create an HTML <code>&lt;div/&gt;</code> element with id <code>vis</code> to serve as a container for the visualization.</p>

<p>In the JavaScript code, we create a variable <code>vlSpec</code> that holds the Vega-Lite specification in JSON format. The <code>vegaEmbed</code> method translates a Vega-Lite specification into a Vega specification and then calls the <a href="https://vega.github.io/vega/usage/">Vega Runtime</a> to display visualization in the container <code>&lt;div/&gt;</code> element.</p>

<p>If viewed in a browser, this page displays our bar chart like on our <a href="/vega-lite/site/demo.html">demo page</a>. You can also fork our <a href="https://bl.ocks.org/domoritz/455e1c7872c4b38a58b90df0c3d7b1b9">Vega-Lite Block example</a>.</p>

<h2 id="next-steps">Next Steps</h2>

<p>Now you can create a website that embeds a Vega-Lite specification. If you want to learn more about Vega-Lite, please feel free to:</p>

<ul>
  <li>Read the <a href="/vega-lite/tutorials/explore.html">next tutorial</a>.</li>
  <li>See the <a href="/vega-lite/examples/">examples gallery</a>.</li>
  <li>Build your own visualizations in the <a href="https://vega.github.io/editor/#/custom/vega-lite">online editor</a>.</li>
  <li>Browse through the <a href="/vega-lite/docs/">documentation</a>.</li>
  <li>See the <a href="/vega-lite/ecosystem.html">list of applications</a> that you can use Vega-Lite with.</li>
</ul>


  </section>
</div>

  </section>
</div>

<footer>
  <div class="page-centered">
   <span class="edit-page">
      <a href="https://github.com/vega/vega-lite/edit/master/tutorials/getting_started.md">Edit this page</a> and submit a pull request!
    </span>

    <a href="http://idl.cs.washington.edu" title="UW Interactive Data Lab" class="idl-logo"><img src="/vega-lite/static/idl-logo.png"/></a>
  </div>
</footer>

    <script src="/vega-lite/static/bundle.js"></script>
    <script>
      // Google Analytics
      (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        (i[r] =
          i[r] ||
          function() {
            (i[r].q = i[r].q || []).push(arguments);
          }),
          (i[r].l = 1 * new Date());
        (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
      })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

      ga('create', 'UA-44428446-6', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
