{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../site/static/index.ts"],"names":[],"mappings":"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","sourcesContent":["import {text} from 'd3-fetch';\nimport {event, select, selectAll, Selection} from 'd3-selection';\nimport * as hljs from 'highlight.js';\nimport * as vega from 'vega';\nimport {post} from 'vega-embed/build/src/post';\nimport {Handler} from 'vega-tooltip';\nimport {compile, TopLevelSpec} from '../../src';\nimport {runStreamingExample} from './streaming';\n\nwindow['runStreamingExample'] = runStreamingExample;\nwindow['embedExample'] = embedExample;\n\ndeclare const BASEURL: string;\n\nconst loader = vega.loader({\n  baseURL: BASEURL\n});\n\nconst editorURL = 'https://vega.github.io/editor/';\n\nfunction trim(str: string) {\n  return str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/* Anchors */\nselectAll('h2, h3, h4, h5, h6').each(function(this: d3.BaseType) {\n  const sel = select(this);\n  const name = sel.attr('id');\n  const title = sel.text();\n  sel.html('<a href=\"#' + name + '\" class=\"anchor\"><span class=\"octicon octicon-link\"></span></a>' + trim(title));\n});\n\n/* Documentation */\nfunction renderExample($target: Selection<any, any, any, any>, specText: string) {\n  $target.classed('example', true);\n  $target.text('');\n\n  const vis = $target.append('div').attr('class', 'example-vis');\n\n  // Decrease visual noise by removing $schema and description from code examples.\n  const textClean = specText.replace(/(\\s)+\\\"(\\$schema|description)\\\": \\\".*?\\\",/g, '');\n  const code = $target\n    .append('pre')\n    .attr('class', 'example-code')\n    .append('code')\n    .attr('class', 'json')\n    .text(textClean);\n  hljs.highlightBlock(code.node() as any);\n\n  const spec = JSON.parse(specText);\n\n  embedExample(vis.node(), spec, true, !$target.classed('no-tooltip'));\n}\n\nexport function embedExample($target: any, spec: TopLevelSpec, actions = true, tooltip = true) {\n  const vgSpec = compile(spec).spec;\n\n  const view = new vega.View(vega.parse(vgSpec), {loader: loader}).renderer('svg').initialize($target);\n\n  if (tooltip) {\n    const handler = new Handler().call;\n    view.tooltip(handler);\n  }\n\n  view.run();\n\n  if (actions) {\n    select($target)\n      .append('div')\n      .attr('class', 'vega-actions')\n      .append('a')\n      .text('Open in Vega Editor')\n      .attr('href', '#')\n      // tslint:disable-next-line\n      .on('click', function() {\n        post(window, editorURL, {\n          mode: 'vega-lite',\n          spec: JSON.stringify(spec, null, 2),\n          config: vgSpec.config,\n          renderer: 'svg'\n        });\n        event.preventDefault();\n      });\n  }\n\n  return view;\n}\n\nfunction getSpec(el: d3.BaseType) {\n  const sel = select(el);\n  const name = sel.attr('data-name');\n  if (name) {\n    const dir = sel.attr('data-dir');\n    const fullUrl = BASEURL + '/examples/specs/' + (dir ? dir + '/' : '') + name + '.vl.json';\n\n    text(fullUrl)\n      .then(spec => {\n        renderExample(sel, spec);\n      })\n      .catch(console.error);\n  } else {\n    console.error('No \"data-name\" specified to import examples from');\n  }\n}\n\nwindow['changeSpec'] = (elId: string, newSpec: string) => {\n  const el = document.getElementById(elId);\n  select(el).attr('data-name', newSpec);\n  getSpec(el);\n};\n\nwindow['buildSpecOpts'] = (id: string, baseName: string) => {\n  const oldName = select('#' + id).attr('data-name');\n  const prefixSel = select('select[name=' + id + ']');\n  const inputsSel = selectAll('input[name=' + id + ']:checked');\n  const prefix = prefixSel.empty() ? id : prefixSel.property('value');\n  const values = inputsSel\n    .nodes()\n    .map((n: any) => n.value)\n    .sort()\n    .join('_');\n  const newName = baseName + prefix + (values ? '_' + values : '');\n  if (oldName !== newName) {\n    window['changeSpec'](id, newName);\n  }\n};\n\nselectAll('.vl-example').each(function(this: d3.BaseType) {\n  getSpec(this);\n});\n\n// caroussel for the front page\n// adapted from https://codepen.io/LANparty/pen/wePYXb\n\nconst carousel = document.getElementById('carousel');\n\nfunction carouselHide(slides: NodeListOf<any>, indicators: NodeListOf<any>, links: NodeListOf<any>, active: number) {\n  indicators[active].setAttribute('data-state', '');\n  links[active].setAttribute('data-state', '');\n  slides[active].setAttribute('data-state', '');\n  slides[active].style.display = 'none';\n\n  const video = slides[active].querySelector('video');\n  if (video) {\n    video.pause();\n  }\n}\n\nfunction carouselShow(slides: NodeListOf<any>, indicators: NodeListOf<any>, links: NodeListOf<any>, active: number) {\n  indicators[active].checked = true;\n  indicators[active].setAttribute('data-state', 'active');\n  links[active].setAttribute('data-state', 'active');\n  slides[active].setAttribute('data-state', 'active');\n\n  const video = slides[active].querySelector('video');\n  if (video) {\n    video.currentTime = 0;\n    slides[active].style.display = 'block';\n    video.play();\n  } else {\n    slides[active].style.display = 'block';\n  }\n}\n\nfunction setSlide(\n  slides: NodeListOf<Element>,\n  indicators: NodeListOf<Element>,\n  links: NodeListOf<any>,\n  active: number\n) {\n  return () => {\n    // Reset all slides\n    for (let i = 0; i < indicators.length; i++) {\n      indicators[i].setAttribute('data-state', '');\n      slides[i].setAttribute('data-state', '');\n      carouselHide(slides, indicators, links, i);\n    }\n\n    // Set defined slide as active\n    indicators[active].setAttribute('data-state', 'active');\n    slides[active].setAttribute('data-state', 'active');\n    carouselShow(slides, indicators, links, active);\n\n    // Switch button text\n    const numSlides = carousel.querySelectorAll('.indicator').length;\n    if (numSlides === active + 1) {\n      carousel.querySelector('.next-slide').textContent = 'Start over';\n    } else {\n      carousel.querySelector('.next-slide').textContent = 'Next step';\n    }\n  };\n}\n\nif (carousel) {\n  const slides = carousel.querySelectorAll('.slide');\n  const indicators = carousel.querySelectorAll('.indicator');\n  const links = carousel.querySelectorAll('.slide-nav');\n\n  // tslint:disable-next-line:prefer-for-of\n  for (let i = 0; i < indicators.length; i++) {\n    indicators[i].addEventListener(\n      'click',\n      setSlide(slides, indicators, links, +indicators[i].getAttribute('data-slide'))\n    );\n  }\n\n  // tslint:disable-next-line:prefer-for-of\n  for (let i = 0; i < links.length; i++) {\n    links[i].addEventListener('click', setSlide(slides, indicators, links, +links[i].getAttribute('data-slide')));\n  }\n\n  carousel.querySelector('.next-slide').addEventListener('click', () => {\n    const slide = +carousel.querySelector('.indicator[data-state=active]').getAttribute('data-slide');\n    const numSlides = carousel.querySelectorAll('.indicator').length;\n    setSlide(slides, indicators, links, (slide + 1) % numSlides)();\n  });\n\n  [].forEach.call(slides, (slide: Element) => {\n    const video = slide.querySelector('video');\n    if (video) {\n      video.addEventListener('mouseover', () => {\n        (slide.querySelector('.example-vis') as any).style.visibility = 'visible';\n        video.style.display = 'none';\n        video.pause();\n      });\n    }\n  });\n}\n"]}