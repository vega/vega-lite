{"version":3,"file":"util.js","sourceRoot":"","sources":["../../test/util.ts"],"names":[],"mappings":"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","sourcesContent":["import {buildModel} from '../src/compile/buildmodel';\nimport {ConcatModel} from '../src/compile/concat';\nimport {FacetModel} from '../src/compile/facet';\nimport {LayerModel} from '../src/compile/layer';\nimport {Model} from '../src/compile/model';\nimport {RepeatModel} from '../src/compile/repeat';\nimport {UnitModel} from '../src/compile/unit';\nimport {initConfig} from '../src/config';\nimport {\n  normalize,\n  NormalizedConcatSpec,\n  NormalizedFacetSpec,\n  NormalizedLayerSpec,\n  NormalizedRepeatSpec,\n  NormalizedUnitSpec,\n  TopLevel,\n  TopLevelSpec\n} from '../src/spec';\nimport {isLayerSpec, isUnitSpec} from '../src/spec';\nimport {normalizeAutoSize} from '../src/toplevelprops';\n\nexport function parseModel(inputSpec: TopLevelSpec): Model {\n  const config = initConfig(inputSpec.config);\n  const spec = normalize(inputSpec, config);\n  const autosize = normalizeAutoSize(inputSpec.autosize, config.autosize, isLayerSpec(spec) || isUnitSpec(spec));\n  return buildModel(spec, null, '', undefined, undefined, config, autosize.type === 'fit');\n}\n\nexport function parseModelWithScale(inputSpec: TopLevelSpec): Model {\n  const model = parseModel(inputSpec);\n  model.parseScale();\n  return model;\n}\n\nexport function parseUnitModel(spec: TopLevel<NormalizedUnitSpec>) {\n  return new UnitModel(\n    spec,\n    null,\n    '',\n    undefined,\n    undefined,\n    initConfig(spec.config),\n    normalizeAutoSize(spec.autosize, spec.config ? spec.config.autosize : undefined, true).type === 'fit'\n  );\n}\n\nexport function parseUnitModelWithScale(spec: TopLevel<NormalizedUnitSpec>) {\n  const model = parseUnitModel(spec);\n  model.parseScale();\n  return model;\n}\n\nexport function parseUnitModelWithScaleAndLayoutSize(spec: TopLevel<NormalizedUnitSpec>) {\n  const model = parseUnitModelWithScale(spec);\n  model.parseLayoutSize();\n  return model;\n}\n\nexport function parseLayerModel(spec: TopLevel<NormalizedLayerSpec>) {\n  return new LayerModel(\n    spec,\n    null,\n    '',\n    undefined,\n    undefined,\n    initConfig(spec.config),\n    normalizeAutoSize(spec.autosize, spec.config ? spec.config.autosize : undefined, true).type === 'fit'\n  );\n}\n\nexport function parseFacetModel(spec: TopLevel<NormalizedFacetSpec>) {\n  return new FacetModel(spec, null, '', undefined, initConfig(spec.config));\n}\n\nexport function parseFacetModelWithScale(spec: TopLevel<NormalizedFacetSpec>) {\n  const model = parseFacetModel(spec);\n  model.parseScale();\n  return model;\n}\n\nexport function parseRepeatModel(spec: TopLevel<NormalizedRepeatSpec>) {\n  return new RepeatModel(spec, null, '', undefined, initConfig(spec.config));\n}\n\nexport function parseConcatModel(spec: TopLevel<NormalizedConcatSpec>) {\n  return new ConcatModel(spec, null, '', undefined, initConfig(spec.config));\n}\n"]}