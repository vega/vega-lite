!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.vl=e()}}(function(){return function e(t,a,n){function r(i,c){if(!a[i]){if(!t[i]){var d="function"==typeof require&&require;if(!c&&d)return d(i,!0);if(f)return f(i,!0);var o=new Error("Cannot find module '"+i+"'");throw o.code="MODULE_NOT_FOUND",o}var s=a[i]={exports:{}};t[i][0].call(s.exports,function(e){var a=t[i][1][e];return r(a?a:e)},s,s.exports,e,t,a,n)}return a[i].exports}for(var f="function"==typeof require&&require,i=0;i<n.length;i++)r(n[i]);return r}({1:[function(e,t,a){"use strict";e("./globals");var n=e("./util"),r=e("./consts"),f={};n.extend(f,r,n),f.Encoding=e("./Encoding"),f.compile=e("./compile/compile"),f.data=e("./data"),f.field=e("./field"),f.enc=e("./enc"),f.schema=e("./schema/schema"),f.toShorthand=f.Encoding.shorthand,t.exports=f},{"./Encoding":10,"./compile/compile":14,"./consts":28,"./data":29,"./enc":30,"./field":31,"./globals":32,"./schema/schema":38,"./util":40}],2:[function(e,t,a){},{}],3:[function(e,t,a){function n(){if(!c){c=!0;for(var e,t=i.length;t;){e=i,i=[];for(var a=-1;++a<t;)e[a]();t=i.length}c=!1}}function r(){}var f=t.exports={},i=[],c=!1;f.nextTick=function(e){i.push(e),c||setTimeout(n,0)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=r,f.addListener=r,f.once=r,f.off=r,f.removeListener=r,f.removeAllListeners=r,f.emit=r,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],4:[function(e,t,a){function n(e){e=e||{};var t,a,n,c,d,o,s,u=e.maxbins||15,l=e.base||10,b=Math.log(l),p=e.div||[5,2],h=e.min,g=e.max,m=g-h;if(e.step)t=e.step;else if(e.steps)t=e.steps[Math.min(e.steps.length-1,r(e.steps,m/u,0,e.steps.length))];else{a=Math.ceil(Math.log(u)/b),n=e.minstep||0,t=Math.max(n,Math.pow(l,Math.round(Math.log(m)/b)-a));do t*=l;while(Math.ceil(m/t)>u);for(o=0;o<p.length;++o)d=t/p[o],d>=n&&u>=m/d&&(t=d)}return d=Math.log(t),c=d>=0?0:~~(-d/b)+1,s=Math.pow(l,-c-1),h=Math.min(h,Math.floor(h/t+s)*t),g=Math.ceil(g/t)*t,{start:h,stop:g,step:t,unit:{precision:c},value:f,index:i}}function r(e,t,a,n){for(;n>a;){var r=a+n>>>1;o.cmp(e[r],t)<0?a=r+1:n=r}return a}function f(e){return this.step*Math.floor(e/this.step+u)}function i(e){return Math.floor((e-this.start)/this.step+u)}function c(e){return this.unit.date(f.call(this,e))}function d(e){return i.call(this,this.unit.unit(e))}var o=e("../util"),s=e("../time-units"),u=1e-15;n.date=function(e){e=e||{};var t=e.min,a=e.max,r=e.maxbins||20,f=e.minbins||4,i=+a-+t,o=e.unit?s[e.unit]:s.find(i,f,r),u=n({min:null!=o.min?o.min:o.unit(t),max:null!=o.max?o.max:o.unit(a),maxbins:r,minstep:o.minstep,steps:o.step});return u.unit=o,u.index=d,e.raw||(u.value=c),u},t.exports=n},{"../time-units":8,"../util":9}],5:[function(e,t,a){var n=t.exports={};n.repeat=function(e,t){var a,n=Array(t);for(a=0;t>a;++a)n[a]=e;return n},n.zeros=function(e){return n.repeat(0,e)},n.range=function(e,t,a){if(arguments.length<3&&(a=1,arguments.length<2&&(t=e,e=0)),(t-e)/a==1/0)throw new Error("Infinite range");var n,r=[],f=-1;if(0>a)for(;(n=e+a*++f)>t;)r.push(n);else for(;(n=e+a*++f)<t;)r.push(n);return r},n.random={},n.random.uniform=function(e,t){void 0===t&&(t=e,e=0);var a=t-e,r=function(){return e+a*Math.random()};return r.samples=function(e){return n.zeros(e).map(r)},r},n.random.integer=function(e,t){void 0===t&&(t=e,e=0);var a=t-e,r=function(){return e+Math.floor(a*Math.random())};return r.samples=function(e){return n.zeros(e).map(r)},r},n.random.normal=function(e,t){e=e||0,t=t||1;var a,r=function(){var n,r,f=0,i=0;if(void 0!==a)return f=a,a=void 0,f;do f=2*Math.random()-1,i=2*Math.random()-1,n=f*f+i*i;while(0===n||n>1);return r=Math.sqrt(-2*Math.log(n)/n),a=e+i*r*t,e+f*r*t};return r.samples=function(e){return n.zeros(e).map(r)},r}},{}],6:[function(e,t,a){function n(e,t){return t?void(e[o]=t):e&&e[o]||null}function r(e,t){t=d.$(t);var a,n,r;if(e[o]&&(a=t(e[o]),d.isString(a)))return a;for(n=0,r=e.length;!d.isValid(a)&&r>n;++n)a=t?t(e[n]):e[n];return d.isDate(a)?"date":d.isNumber(a)?"number":d.isBoolean(a)?"boolean":d.isString(a)?"string":null}function f(e,t){return e.length?(t=t||d.keys(e[0]),t.reduce(function(t,a){return t[a]=r(e,a),t},{})):void 0}function i(e,t){t=d.$(t);var a,n,r,f=["boolean","integer","number","date"];for(a=0;a<e.length;++a){for(r=t?t(e[a]):e[a],n=0;n<f.length;++n)d.isValid(r)&&!u[f[n]](r)&&(f.splice(n,1),n-=1);if(0===f.length)return"string"}return f[0]}function c(e,t){return t=t||d.keys(e[0]),t.reduce(function(t,a){var n=i(e,a);return s[n]&&(t[a]=n),t},{})}var d=e("../util"),o="__types__",s={"boolean":d["boolean"],integer:d.number,number:d.number,date:d.date,string:function(e){return""===e?null:e}},u={"boolean":function(e){return"true"===e||"false"===e||d.isBoolean(e)},integer:function(e){return u.number(e)&&(e=+e)===~~e},number:function(e){return!isNaN(+e)&&!d.isDate(e)},date:function(e){return!isNaN(Date.parse(e))}};r.annotation=n,r.all=f,r.infer=i,r.inferAll=c,r.parsers=s,t.exports=r},{"../util":9}],7:[function(e,t,a){var n=e("./util"),r=e("./import/type"),f=e("./generate"),i={};i.unique=function(e,t,a){t=n.$(t),a=a||[];var r,f,i,c={};for(f=0,i=e.length;i>f;++f)r=t?t(e[f]):e[f],r in c||(c[r]=1,a.push(r));return a},i.count=function(e){return e&&e.length||0},i.count.valid=function(e,t){t=n.$(t);var a,r,f,i=0;for(r=0,f=e.length;f>r;++r)a=t?t(e[r]):e[r],n.isValid(a)&&(i+=1);return i},i.count.missing=function(e,t){t=n.$(t);var a,r,f,i=0;for(r=0,f=e.length;f>r;++r)a=t?t(e[r]):e[r],null==a&&(i+=1);return i},i.count.distinct=function(e,t){t=n.$(t);var a,r,f,i={},c=0;for(r=0,f=e.length;f>r;++r)a=t?t(e[r]):e[r],a in i||(i[a]=1,c+=1);return c},i.count.map=function(e,t){t=n.$(t);var a,r,f,i={};for(r=0,f=e.length;f>r;++r)a=t?t(e[r]):e[r],i[a]=a in i?i[a]+1:1;return i},i.median=function(e,t){return t&&(e=e.map(n.$(t))),e=e.filter(n.isValid).sort(n.cmp),i.quantile(e,.5)},i.quartile=function(e,t){t&&(e=e.map(n.$(t))),e=e.filter(n.isValid).sort(n.cmp);var a=i.quantile;return[a(e,.25),a(e,.5),a(e,.75)]},i.quantile=function(e,t,a){void 0===a&&(a=t,t=n.identity),t=n.$(t);var r=(e.length-1)*a+1,f=Math.floor(r),i=+t(e[f-1]),c=r-f;return c?i+c*(t(e[f])-i):i},i.sum=function(e,t){t=n.$(t);for(var a,r=0,f=0,i=e.length;i>f;++f)a=t?t(e[f]):e[f],n.isValid(a)&&(r+=a);return r},i.mean=function(e,t){t=n.$(t);var a,r,f,i,c,d=0;for(r=0,i=0,f=e.length;f>r;++r)c=t?t(e[r]):e[r],n.isValid(c)&&(a=c-d,d+=a/++i);return d},i.variance=function(e,t){if(t=n.$(t),!n.isArray(e)||0===e.length)return 0;var a,r,f,i,c=0,d=0;for(r=0,f=0;r<e.length;++r)i=t?t(e[r]):e[r],n.isValid(i)&&(a=i-c,c+=a/++f,d+=a*(i-c));return d/=f-1},i.stdev=function(e,t){return Math.sqrt(i.variance(e,t))},i.modeskew=function(e,t){var a=i.mean(e,t),n=i.median(e,t),r=i.stdev(e,t);return 0===r?0:(a-n)/r},i.min=function(e,t){return i.extent(e,t)[0]},i.max=function(e,t){return i.extent(e,t)[1]},i.extent=function(e,t){t=n.$(t);var a,r,f,i,c=e.length;for(i=0;c>i;++i)if(f=t?t(e[i]):e[i],n.isValid(f)){a=r=f;break}for(;c>i;++i)f=t?t(e[i]):e[i],n.isValid(f)&&(a>f&&(a=f),f>r&&(r=f));return[a,r]},i.extent.index=function(e,t){t=n.$(t);var a,r,f,i,c=-1,d=-1,o=e.length;for(i=0;o>i;++i)if(f=t?t(e[i]):e[i],n.isValid(f)){a=r=f,c=d=i;break}for(;o>i;++i)f=t?t(e[i]):e[i],n.isValid(f)&&(a>f&&(a=f,c=i),f>r&&(r=f,d=i));return[c,d]},i.dot=function(e,t,a){var r,f,i=0;if(a)for(t=n.$(t),a=n.$(a),r=0;r<e.length;++r)f=t(e[r])*a(e[r]),Number.isNaN(f)||(i+=f);else{if(e.length!==t.length)throw Error("Array lengths must match.");for(r=0;r<e.length;++r)f=e[r]*t[r],Number.isNaN(f)||(i+=f)}return i},i.rank=function(e,t){t=n.$(t)||n.identity;var a,r,f,i=e.map(function(e,a){return{idx:a,val:t(e)}}).sort(n.comparator("val")),c=e.length,d=Array(c),o=-1,s={};for(a=0;c>a;++a){if(r=i[a].val,0>o&&s===r)o=a-1;else if(o>-1&&s!==r){for(f=1+(a-1+o)/2;a>o;++o)d[i[o].idx]=f;o=-1}d[i[a].idx]=a+1,s=r}if(o>-1)for(f=1+(c-1+o)/2;c>o;++o)d[i[o].idx]=f;return d},i.cor=function(e,t,a){var r=a;a=r?e.map(n.$(a)):t,t=r?e.map(n.$(t)):e;var f=i.dot(t,a),c=i.mean(t),d=i.mean(a),o=i.stdev(t),s=i.stdev(a),u=e.length;return(f-u*c*d)/((u-1)*o*s)},i.cor.rank=function(e,t,a){var r,f,c,d=a?i.rank(e,n.$(t)):i.rank(e),o=a?i.rank(e,n.$(a)):i.rank(t),s=e.length;for(r=0,f=0;s>r;++r)c=d[r]-o[r],f+=c*c;return 1-6*f/(s*(s*s-1))},i.cor.dist=function(e,t,a){var r,f,c,d,o=a?e.map(n.$(t)):e,s=a?e.map(n.$(a)):t,u=i.dist.mat(o),l=i.dist.mat(s),b=u.length;for(r=0,f=0,c=0,d=0;b>r;++r)f+=u[r]*u[r],c+=l[r]*l[r],d+=u[r]*l[r];return Math.sqrt(d/Math.sqrt(f*c))},i.dist=function(e,t,a,r){var f,i,c=n.isFunction(a)||n.isString(a),d=e,o=c?e:t,s=c?r:a,u=2===s||null==s,l=e.length,b=0;for(c&&(t=n.$(t),a=n.$(a)),i=0;l>i;++i)f=c?t(d[i])-a(o[i]):d[i]-o[i],b+=u?f*f:Math.pow(Math.abs(f),s);return u?Math.sqrt(b):Math.pow(b,1/s)},i.dist.mat=function(e){var t,a,n,r=e.length,i=r*r,c=Array(i),d=f.zeros(r),o=0;for(a=0;r>a;++a)for(c[a*r+a]=0,n=a+1;r>n;++n)c[a*r+n]=t=Math.abs(e[a]-e[n]),c[n*r+a]=t,d[a]+=t,d[n]+=t;for(a=0;r>a;++a)o+=d[a],d[a]/=r;for(o/=i,a=0;r>a;++a)for(n=a;r>n;++n)c[a*r+n]+=o-d[a]-d[n],c[n*r+a]=c[a*r+n];return c},i.entropy=function(e,t){t=n.$(t);var a,r,f=0,i=0,c=e.length;for(a=0;c>a;++a)f+=t?t(e[a]):e[a];if(0===f)return 0;for(a=0;c>a;++a)r=(t?t(e[a]):e[a])/f,r&&(i+=r*Math.log(r));return-i/Math.LN2},i.mutual=function(e,t,a,r){var f,i,c,d=r?e.map(n.$(t)):e,o=r?e.map(n.$(a)):t,s=r?e.map(n.$(r)):a,u={},l={},b=s.length,p=0,h=0,g=0;for(c=0;b>c;++c)u[d[c]]=0,l[o[c]]=0;for(c=0;b>c;++c)u[d[c]]+=s[c],l[o[c]]+=s[c],p+=s[c];for(i=1/(p*Math.LN2),c=0;b>c;++c)0!==s[c]&&(f=p*s[c]/(u[d[c]]*l[o[c]]),h+=s[c]*i*Math.log(f),g+=s[c]*i*Math.log(s[c]/p));return[h,1+h/g]},i.mutual.info=function(e,t,a,n){return i.mutual(e,t,a,n)[0]},i.mutual.dist=function(e,t,a,n){return i.mutual(e,t,a,n)[1]},i.profile=function(e,t){var a,f,c,d,o,s=0,u=0,l=0,b=0,p=null,h=null,g=0,m=[],y={};for(c=0;c<e.length;++c)d=t?t(e[c]):e[c],y[d]=d in y?y[d]+1:(b+=1,1),null==d?++l:n.isValid(d)&&(o="string"==typeof d?d.length:d,(null===p||p>o)&&(p=o),(null===h||o>h)&&(h=o),a=o-s,s+=a/++u,g+=a*(o-s),m.push(o));return g/=u-1,f=Math.sqrt(g),m.sort(n.cmp),{type:r(e,t),unique:y,count:e.length,valid:u,missing:l,distinct:b,min:p,max:h,mean:s,stdev:f,median:d=i.quantile(m,.5),q1:i.quantile(m,.25),q3:i.quantile(m,.75),modeskew:0===f?0:(s-d)/f}},i.summary=function(e,t){t=t||n.keys(e[0]);var a=t.map(function(t){var a=i.profile(e,n.$(t));return a.field=t,a});return a.__summary__=!0,a},t.exports=i},{"./generate":5,"./import/type":6,"./util":9}],8:[function(e,t,a){function n(e){return"number"==typeof e}var r=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]],f=[{type:"second",minstep:1,format:"%Y %b %-d %H:%M:%S.%L",date:function(e){return new Date(1e3*e)},unit:function(e){return+e/1e3}},{type:"minute",minstep:1,format:"%Y %b %-d %H:%M",date:function(e){return new Date(6e4*e)},unit:function(e){return~~(+e/6e4)}},{type:"hour",minstep:1,format:"%Y %b %-d %H:00",date:function(e){return new Date(36e5*e)},unit:function(e){return~~(+e/36e5)}},{type:"day",minstep:1,step:[1,7],format:"%Y %b %-d",date:function(e){return new Date(864e5*e)},unit:function(e){return~~(+e/864e5)}},{type:"month",minstep:1,step:[1,3,6],format:"%b %Y",date:function(e){return new Date(Date.UTC(~~(e/12),e%12,1))},unit:function(e){return n(e)&&(e=new Date(e)),12*e.getUTCFullYear()+e.getUTCMonth()}},{type:"year",minstep:1,format:"%Y",date:function(e){return new Date(Date.UTC(e,0,1))},unit:function(e){return(n(e)?new Date(e):e).getUTCFullYear()}}],i={type:"minuteOfHour",min:0,max:59,minstep:1,format:"%M",date:function(e){return new Date(Date.UTC(1970,0,1,0,e))},unit:function(e){return(n(e)?new Date(e):e).getUTCMinutes()}},c={type:"hourOfDay",min:0,max:23,minstep:1,format:"%H",date:function(e){return new Date(Date.UTC(1970,0,1,e))},unit:function(e){return(n(e)?new Date(e):e).getUTCHours()}},d={type:"dayOfWeek",min:0,max:6,step:[1],format:"%a",date:function(e){return new Date(Date.UTC(1970,0,4+e))},unit:function(e){return(n(e)?new Date(e):e).getUTCDay()}},o={type:"dayOfMonth",min:1,max:31,step:[1],format:"%-d",date:function(e){return new Date(Date.UTC(1970,0,e))},unit:function(e){return(n(e)?new Date(e):e).getUTCDate()}},s={type:"monthOfYear",min:0,max:11,step:[1],format:"%b",date:function(e){return new Date(Date.UTC(1970,e%12,1))},unit:function(e){return(n(e)?new Date(e):e).getUTCMonth()}},u={second:f[0],minute:f[1],hour:f[2],day:f[3],month:f[4],year:f[5],minuteOfHour:i,hourOfDay:c,dayOfWeek:d,dayOfMonth:o,monthOfYear:s,timesteps:f};u.find=function(e,t,a){var n,i,c,d=r[0];for(n=1,i=r.length;i>n;++n)if(d=r[n],e>d[0]){if(c=e/d[0],c>a)return f[r[n-1][1]];if(c>=t)return f[d[1]]}return f[r[r.length-1][1]]},t.exports=u},{}],9:[function(e,t,a){(function(a){function n(e){return e.replace(u,"$1\\'")}function r(e,t){var a,n="";for(a=0;e>a;++a)n+=t;return n}function f(e,t,a){var n=0,r=e.split(l);return e=a?(r=r.reverse()).filter(function(e){return n+=e.length,t>=n}).reverse():r.filter(function(e){return n+=e.length,t>=n}),e.length?e.join("").trim():r[0].slice(0,t)}var i=e("buffer").Buffer,c=e("./time-units"),d=t.exports={};d.isNode="undefined"!=typeof a&&"undefined"!=typeof a.stderr;var o="__name__";d.namedfunc=function(e,t){return t[o]=e,t},d.name=function(e){return null==e?null:e[o]},d.identity=function(e){return e},d["true"]=d.namedfunc("true",function(){return!0}),d["false"]=d.namedfunc("false",function(){return!1}),d.duplicate=function(e){return JSON.parse(JSON.stringify(e))},d.equal=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},d.extend=function(e){for(var t,a,n=1,r=arguments.length;r>n;++n){t=arguments[n];for(a in t)e[a]=t[a]}return e},d.length=function(e){return null!=e&&null!=e.length?e.length:null},d.keys=function(e){var t,a=[];for(t in e)a.push(t);return a},d.vals=function(e){var t,a=[];for(t in e)a.push(e[t]);return a},d.toMap=function(e,t){return(t=d.$(t))?e.reduce(function(e,a){return e[t(a)]=1,e},{}):e.reduce(function(e,t){return e[t]=1,e},{})},d.keystr=function(e){var t=e.length;if(!t)return"";for(var a=String(e[0]),n=1;t>n;++n)a+="|"+String(e[n]);return a};var s=Object.prototype.toString;d.isObject=function(e){return e===Object(e)},d.isFunction=function(e){return"[object Function]"===s.call(e)},d.isString=function(e){return"string"==typeof value||"[object String]"===s.call(e)},d.isArray=Array.isArray||function(e){return"[object Array]"===s.call(e)},d.isNumber=function(e){return"number"==typeof e||"[object Number]"===s.call(e)},d.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==s.call(e)},d.isDate=function(e){return"[object Date]"===s.call(e)},d.isValid=function(e){return null!=e&&!Number.isNaN(e)},d.isBuffer=i&&i.isBuffer||d["false"],d.number=function(e){return null==e||""===e?null:+e},d["boolean"]=function(e){return null==e||""===e?null:"false"===e?!1:!!e},d.date=function(e){return null==e||""===e?null:Date.parse(e)},d.array=function(e){return null!=e?d.isArray(e)?e:[e]:[]},d.str=function(e){return d.isArray(e)?"["+e.map(d.str)+"]":d.isObject(e)?JSON.stringify(e):d.isString(e)?"'"+n(e)+"'":e};var u=/(^|[^\\])'/g;d.field=function(e){return String(e).split("\\.").map(function(e){return e.split(".")}).reduce(function(e,t){return e.length&&(e[e.length-1]+="."+t.shift()),e.push.apply(e,t),e},[])},d.accessor=function(e){var t;return null==e||d.isFunction(e)?e:d.namedfunc(e,(t=d.field(e)).length>1?function(e){return t.reduce(function(e,t){return e[t]},e)}:function(t){return t[e]})},d.$=d.accessor,d.mutator=function(e){var t;return d.isString(e)&&(t=d.field(e)).length>1?function(e,a){for(var n=0;n<t.length-1;++n)e=e[t[n]];e[t[n]]=a}:function(t,a){t[e]=a}},d.$func=function(e,t){return function(a){a=d.$(a)||d.identity;var n=e+(d.name(a)?"_"+d.name(a):"");return d.namedfunc(n,function(e){return t(a(e))})}},d.$valid=d.$func("valid",d.isValid),d.$length=d.$func("length",d.length),d.$year=d.$func("year",c.year.unit),d.$month=d.$func("month",c.monthOfYear.unit),d.$date=d.$func("date",c.dayOfMonth.unit),d.$day=d.$func("day",c.dayOfWeek.unit),d.$hour=d.$func("hour",c.hourOfDay.unit),d.$minute=d.$func("minute",c.minuteOfHour.unit),d.$in=function(e,t){e=d.$(e);var a=d.isArray(t)?d.toMap(t):t;return function(t){return!!a[e(t)]}},d.comparator=function(e){var t=[];return void 0===e&&(e=[]),e=d.array(e).map(function(e){var a=1;return"-"===e[0]?(a=-1,e=e.slice(1)):"+"===e[0]&&(a=1,e=e.slice(1)),t.push(a),d.accessor(e)}),function(a,n){var r,f,i,c,d;for(r=0,f=e.length;f>r;++r){if(i=e[r],c=i(a),d=i(n),d>c)return-1*t[r];if(c>d)return t[r]}return 0}},d.cmp=function(e,t){return t>e?-1:e>t?1:e>=t?0:null===e&&null===t?0:null===e?-1:null===t?1:0/0},d.numcmp=function(e,t){return e-t},d.stablesort=function(e,t,a){var n=e.reduce(function(e,t,n){return e[a(t)]=n,e},{});return e.sort(function(e,r){var f=t(e),i=t(r);return i>f?-1:f>i?1:n[a(e)]-n[a(r)]}),e},d.startsWith=String.prototype.startsWith?function(e,t){return e.startsWith(t)}:function(e,t){return 0===e.lastIndexOf(t,0)},d.pad=function(e,t,a,n){n=n||" ";var f=t-e.length;if(0>=f)return e;switch(a){case"left":return r(f,n)+e;case"middle":case"center":return r(Math.floor(f/2),n)+e+r(Math.ceil(f/2),n);default:return e+r(f,n)}},d.truncate=function(e,t,a,n,r){var i=e.length;if(t>=i)return e;r=void 0!==r?String(r):"â€¦";var c=Math.max(0,t-r.length);switch(a){case"left":return r+(n?f(e,c,1):e.slice(i-c));case"middle":case"center":var d=Math.ceil(c/2),o=Math.floor(c/2);return(n?f(e,d):e.slice(0,d))+r+(n?f(e,o,1):e.slice(i-o));default:return(n?f(e,c):e.slice(0,c))+r}};var l=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/}).call(this,e("_process"))},{"./time-units":8,_process:3,buffer:2}],10:[function(e,t,a){"use strict";e("./globals");var n=e("./consts"),r=e("./util"),f=e("./field"),i=e("./enc"),c=e("./schema/schema");t.exports=function(){function e(e,t){var a=c.instantiate(),n=c.util.merge(a,t||{},e);this._data=n.data,this._marktype=n.marktype,this._enc=n.encoding,this._config=n.config,this._filter=n.filter}var t=e.prototype;return e.fromShorthand=function(t,a,r,f){var c=n.shorthand,d=t.split(c.delim),o=d.shift().split(c.assign)[1].trim(),s=i.fromShorthand(d);return new e({data:a,marktype:o,encoding:s,config:r,filter:[]},f)},e.fromSpec=function(t,a){return new e(t,a)},t.toShorthand=function(){var e=n.shorthand;return"mark"+e.assign+this._marktype+e.delim+i.shorthand(this._enc)},e.shorthand=function(e){var t=n.shorthand;return"mark"+t.assign+e.marktype+t.delim+i.shorthand(e.encoding)},e.specFromShorthand=function(t,a,n,r){return e.fromShorthand(t,a,n).toSpec(r)},t.toSpec=function(e,t){var a,n=r.duplicate(this._enc);a={marktype:this._marktype,encoding:n,filter:this._filter},e||(a.config=r.duplicate(this._config)),t||(a.data=r.duplicate(this._data));var f=c.instantiate();return c.util.subtract(a,f)},t.marktype=function(){return this._marktype},t.is=function(e){return this._marktype===e},t.has=function(e){return void 0!==this._enc[e].name},t.enc=function(e){return this._enc[e]},t.filter=function(){var e=[],t=this.fields(),a=this;return r.forEach(t,function(t,n){"*"!==n&&(a.config("filterNull").Q&&t.containsType[Q]||a.config("filterNull").T&&t.containsType[T]||a.config("filterNull").O&&t.containsType[O]||a.config("filterNull").N&&t.containsType[N])&&e.push({operands:[n],operator:"notNull"})}),e.concat(this._filter)},t.field=function(e,t,a){return this.has(e)?f.fieldRef(this._enc[e],{nofn:a,data:!this._vega2&&!t}):null},t.fieldRef=function(e,t){return t=t||{},t.data=!this._vega2&&t.data!==!1,f.fieldRef(this._enc[e],t)},t.fieldName=function(e){return this._enc[e].name},t.fields=function(){return i.fields(this._enc)},t.fieldTitle=function(e){if(f.isCount(this._enc[e]))return f.count.displayName;var t=this._enc[e].aggregate||this._enc[e].timeUnit||this._enc[e].bin&&"bin";return t?t.toUpperCase()+"("+this._enc[e].name+")":this._enc[e].name},t.scale=function(e){return this._enc[e].scale||{}},t.axis=function(e){return this._enc[e].axis||{}},t.band=function(e){return this._enc[e].band||{}},t.bandSize=function(e,t){return t=t||e===Y&&this.has(ROW)&&this.has(Y)||e===X&&this.has(COL)&&this.has(X),this.band(e).size||this.config(t?"smallBandSize":"largeBandSize")},t.aggregate=function(e){return this._enc[e].aggregate},t.bin=function(e){var t=this._enc[e].bin;return t==={}?!1:t===!0?{maxbins:c.MAXBINS_DEFAULT}:t},t.legend=function(e){return this._enc[e].legend},t.value=function(e){return this._enc[e].value},t.timeUnit=function(e){return this._enc[e].timeUnit},t.sort=function(t,a){var n=this._enc[t].sort,r=this._enc,i=f.isTypes;if((!n||0===n.length)&&e.toggleSort.support({enc:this._enc},a,!0)&&this.config("toggleSort")===Q){var c=i(r.x,[N,O])?r.y:r.x;i(r[t],[N,O])&&(n=[{name:c.name,aggregate:c.aggregate,type:c.type,reverse:!0}])}return n},t.length=function(){return r.keys(this._enc).length},t.map=function(e){return i.map(this._enc,e)},t.reduce=function(e,t){return i.reduce(this._enc,e,t)},t.forEach=function(e){return i.forEach(this._enc,e)},t.type=function(e){return this.has(e)?this._enc[e].type:null},t.role=function(e){return this.has(e)?f.role(this._enc[e]):null},t.text=function(e){var t=this._enc[TEXT].text;return e?t[e]:t},t.font=function(e){var t=this._enc[TEXT].font;return e?t[e]:t},t.isType=function(t,a){var n=this.enc(t);return n&&e.isType(n,a)},e.isType=f.isType,e.isOrdinalScale=function(e,t){return f.isOrdinalScale(e.enc(t))},e.isDimension=function(e,t){return f.isDimension(e.enc(t))},e.isMeasure=function(e,t){return f.isMeasure(e.enc(t))},t.isOrdinalScale=function(t){return this.has(t)&&e.isOrdinalScale(this,t)},t.isDimension=function(t){return this.has(t)&&e.isDimension(this,t)},t.isMeasure=function(t){return this.has(t)&&e.isMeasure(this,t)},t.isAggregate=function(){return i.isAggregate(this._enc)},e.isAggregate=function(e){return i.isAggregate(e.encoding)},e.alwaysNoOcclusion=function(e){return i.isAggregate(e.encoding)},e.isStack=function(e){return("bar"===e.marktype||"area"===e.marktype)&&e.encoding.color},t.isStack=function(){return(this.is("bar")||this.is("area"))&&this.has("color")},t.cardinality=function(e,t){return f.cardinality(this.enc(e),t,this.config("filterNull"))},t.isRaw=function(){return!this.isAggregate()},t.data=function(e){return this._data[e]},t.hasValues=function(){var e=this.data("values");return e&&e.length},t.config=function(e){return this._config[e]},e.transpose=function(e){var t=e.encoding,a=r.duplicate(e.encoding);return a.x=t.y,a.y=t.x,a.row=t.col,a.col=t.row,e.encoding=a,e},e.toggleSort=function(e){return e.config=e.config||{},e.config.toggleSort=e.config.toggleSort===Q?N:Q,e},e.toggleSort.direction=function(t){if(e.toggleSort.support(t)){var a=t.encoding;return a.x.type===N?"x":"y"}},e.toggleSort.mode=function(e){return e.config.toggleSort},e.toggleSort.support=function(t,a){var n=t.encoding,r=f.isTypes;return!i.has(n,ROW)&&!i.has(n,COL)&&i.has(n,X)&&i.has(n,Y)&&e.alwaysNoOcclusion(t,a)?r(n.x,[N,O])&&f.isMeasure(n.y)?"x":r(n.y,[N,O])&&f.isMeasure(n.x)?"y":!1:!1},e.toggleFilterNullO=function(e){return e.config=e.config||{},e.config.filterNull=e.config.filterNull||{T:!0,Q:!0},e.config.filterNull.O=!e.config.filterNull.O,e},e.toggleFilterNullO.support=function(e,t){var a=i.fields(e.encoding);for(var n in a){var r=a[n];if(r.containsType.O&&n in t&&t[n].nulls>0)return!0}return!1},e}()},{"./consts":28,"./enc":30,"./field":31,"./globals":32,"./schema/schema":38,"./util":40}],11:[function(e,t,a){"use strict";function n(e,t,a){a=a||{};var n={},f={},i={},c={};return t.forEach(function(e,a){e.aggregate?"count"===e.aggregate?f.count={op:"count",field:"*"}:f[e.aggregate+"|"+e.name]={op:e.aggregate,field:t.fieldRef(a,{nofn:!0})}:(n[e.name]=t.field(a),a==ROW||a==COL?c[e.name]=n[e.name]:a!==X&&a!==Y&&(i[e.name]=n[e.name]))}),n=r.vals(n),f=r.vals(f),f.length>0&&(e.transform||(e.transform=[]),e.transform.push({type:"aggregate",groupby:n,fields:f})),{details:r.vals(i),dims:n,facets:r.vals(c),aggregated:f.length>0}}e("../globals");var r=e("../util");t.exports=n},{"../globals":32,"../util":40}],12:[function(e,t,a){"use strict";function n(e,t,a,n,r){var d=null,o=a.fieldTitle(t);return t===X?d=n.cellWidth/a.config("characterWidth"):t===Y&&(d=n.cellHeight/a.config("characterWidth")),e.title=d?i.truncate(o,d):o,t===ROW&&c(e,["properties","title"],{angle:{value:0},align:{value:"right"},baseline:{value:"middle"},dy:{value:-n.height/2-20}}),e.titleOffset=f(a,n,t),e}function r(e,t,a,n,r){var f;a.isType(t,T)&&(f=a.timeUnit(t))&&o.hasScale(f)&&c(e,["properties","labels","text","scale"],"time-"+f);var i=["properties","labels","text","template"];return a.axis(t).format?e.format=a.axis(t).format:a.isType(t,Q)?c(e,i,"{{data | number:'.3s'}}"):a.isType(t,T)?a.timeUnit(t)?"year"===a.timeUnit(t)&&c(e,i,"{{data | number:'d'}}"):c(e,i,"{{data | time:'%Y-%m-%d'}}"):a.isType(t,[N,O])&&a.axis(t).maxLabelLength&&c(e,i,"{{data | truncate:"+a.axis(t).maxLabelLength+"}}"),e}function f(e,t,a){var n=e.axis(a).titleOffset;if(n)return n;switch(a){case ROW:return 0;case COL:return 35}return d(t,[a,"axisTitleOffset"])}e("../globals");var i=e("../util"),c=i.setter,d=i.getter,o=e("./time"),s=t.exports={};s.names=function(e){return i.keys(i.keys(e).reduce(function(t,a){var n=e[a].scale;return(n===X||n===Y)&&(t[e[a].scale]=1),t},{}))},s.defs=function(e,t,a,n,r){return e.reduce(function(e,f){return e.push(s.def(f,t,a,n,r)),e},[])},s.def=function(e,t,a,i,d){var o=e,s=e==COL,u=e==ROW,l=f(t,a,Y)+20,b=a.cellPadding;s&&(o="x"),u&&(o="y");var p={type:o,scale:e};return t.axis(e).grid&&(p.grid=!0,p.layer="back",s?c(p,["properties","grid"],{x:{offset:a.cellWidth*(1+b/2),scale:"col"},y:{value:-a.cellHeight*(b/2)},stroke:{value:t.config("cellGridColor")},opacity:{value:t.config("cellGridOpacity")}}):u?c(p,["properties","grid"],{y:{offset:-a.cellHeight*(b/2),scale:"row"},x:{value:l},x2:{offset:l+.05*a.cellWidth,group:"mark.group.width",mult:1},stroke:{value:t.config("cellGridColor")},opacity:{value:t.config("cellGridOpacity")}}):c(p,["properties","grid"],{stroke:{value:t.config("gridColor")},opacity:{value:t.config("gridOpacity")}})),t.axis(e).title&&(p=n(p,e,t,a,d)),(u||s)&&(c(p,["properties","ticks"],{opacity:{value:0}}),c(p,["properties","majorTicks"],{opacity:{value:0}}),c(p,["properties","axis"],{opacity:{value:0}})),s&&(p.orient="top"),u&&(p.offset=l),e==X&&(t.has(Y)&&t.isOrdinalScale(Y)&&t.cardinality(Y,i)>30&&(p.orient="top"),t.isDimension(X)||t.isType(X,T)?c(p,["properties","labels"],{angle:{value:270},align:{value:"right"},baseline:{value:"middle"}}):p.ticks=5),p=r(p,e,t,a,d)}},{"../globals":32,"../util":40,"./time":27}],13:[function(e,t,a){"use strict";function n(e,t,a){return a=a||{},e.transform||(e.transform=[]),t.forEach(function(a,n){t.bin(n)&&e.transform.push({type:"bin",field:t.field(n,!1,!0),output:t.field(n),maxbins:t.bin(n).maxbins})}),e}e("../globals"),t.exports=n},{"../globals":32}],14:[function(e,t,a){"use strict";function n(e,t,a){return n.encoding(f.fromSpec(e,a),t)}var r=t.exports=e("datalib/src/stats").summary;e("../globals"),t.exports=n;var f=e("../Encoding"),i=n.axis=e("./axis"),c=n.filter=e("./filter"),d=n.legend=e("./legend"),o=n.marks=e("./marks"),s=n.scale=e("./scale");n.aggregate=e("./aggregate"),n.bin=e("./bin"),n.facet=e("./facet"),n.group=e("./group"),n.layout=e("./layout"),n.sort=e("./sort"),n.stack=e("./stack"),n.style=e("./style"),n.subfacet=e("./subfacet"),n.template=e("./template"),n.time=e("./time"),n.shorthand=function(e,t,a,r){return n.encoding(f.fromShorthand(e,a,r),t)},n.encoding=function(e,t){!t&&e.hasValues()&&(t=r(e.data("values")).reduce(function(e,t){return e[t.field]=t,e},{}));var a=n.layout(e,t),f=n.template(e,a,t),u=f.data[0],l=f.data[1];u=c.addFilters(u,e),l=n.bin(l,e),f=n.time(f,e);for(var b=n.aggregate(l,e),p=n.sort(f.data,e,t),h=n.style(e,t),g=f.marks[0],m=o[e.marktype()],y=o.def(m,e,a,h),v=y[0],O=0;O<y.length;O++)g.marks.push(y[O]);var x=o[e.marktype()].line,k=b.details,w=k&&k.length>0,S=w&&n.stack(f.data,e,v,b.facets);if(w&&(S||x)&&n.subfacet(g,v,k,S,e),x){var A=e.isMeasure(X)&&e.isDimension(Y)?Y:X;v.from||(v.from={}),v.from.transform=[{type:"sort",by:"-"+e.field(A)}]}return e.has(ROW)||e.has(COL)?(f=n.facet(g,e,a,h,p,f,v,S,t),f.legends=d.defs(e)):(g.scales=s.defs(s.names(v.properties.update),e,a,t,h,p,{stack:S}),g.axes=i.defs(i.names(v.properties.update),e,a,t),g.legends=d.defs(e)),c.filterLessThanZero(l,e),f}},{"../Encoding":10,"../globals":32,"./aggregate":11,"./axis":12,"./bin":13,"./facet":15,"./filter":16,"./group":17,"./layout":18,"./legend":19,"./marks":20,"./scale":21,"./sort":22,"./stack":23,"./style":24,"./subfacet":25,"./template":26,"./time":27,"datalib/src/stats":7}],15:[function(e,t,a){"use strict";function n(e,t,a,n,d,o,s,u,l){var b,p,h=e.properties.enter,g=[],m=[],y=t.has(ROW),v=t.has(COL);h.fill={value:t.config("cellBackgroundColor")},e.from={data:e.marks[0].from.data};for(var O=0;O<e.marks.length;O++){var x=e.marks[O];x.from.transform?delete x.from.data:delete x.from}y?(t.isDimension(ROW)||r.error("Row encoding should be ordinal."),h.y={scale:ROW,field:"keys."+g.length},h.height={value:a.cellHeight},g.push(t.field(ROW)),v&&(b=r.duplicate(e.from),b.transform=b.transform||[],b.transform.unshift({type:"facet",keys:[t.field(COL)]})),p=i("x-axes",{axes:t.has(X)?f.defs(["x"],t,a,l):void 0,x:v?{scale:COL,field:"keys.0"}:{value:0},width:v&&{value:a.cellWidth},from:b}),o.marks.unshift(p),o.axes=o.axes||[],o.axes.push.apply(o.axes,f.defs(["row"],t,a,l))):t.has(X)&&m.push.apply(m,f.defs(["x"],t,a,l)),v?(t.isDimension(COL)||r.error("Col encoding should be ordinal."),h.x={scale:COL,field:"keys."+g.length},h.width={value:a.cellWidth},g.push(t.field(COL)),y&&(b=r.duplicate(e.from),b.transform=b.transform||[],b.transform.unshift({type:"facet",keys:[t.field(ROW)]})),p=i("y-axes",{axes:t.has(Y)?f.defs(["y"],t,a,l):void 0,y:y&&{scale:ROW,field:"keys.0"},x:y&&{value:0},height:y&&{value:a.cellHeight},from:b}),o.marks.unshift(p),o.axes=o.axes||[],o.axes.push.apply(o.axes,f.defs(["col"],t,a,l))):t.has(Y)&&m.push.apply(m,f.defs(["y"],t,a,l)),o.scales=(o.scales||[]).concat(c.defs(c.names(h).concat(c.names(s.properties.update)),t,a,l,n,d,{stack:u,facet:!0})),m.length>0&&(e.axes=m);var k=e.from.transform||(e.from.transform=[]);return k.unshift({type:"facet",keys:g}),o}e("../globals");var r=e("../util"),f=e("./axis"),i=e("./group").def,c=e("./scale");t.exports=n},{"../globals":32,"../util":40,"./axis":12,"./group":17,"./scale":21}],16:[function(e,t,a){"use strict";e("../globals");var n=t.exports={},r={">":!0,">=":!0,"=":!0,"!=":!0,"<":!0,"<=":!0};n.addFilters=function(e,t){var a=t.filter();e.transform||(e.transform=[]);for(var n in a){var f=a[n],i="",c=f.operator,d=f.operands,o="d."+(t._vega2?"":"data.");if(r[c]){"="===c&&(c="==");var s=d[0],u=d[1];i=o+s+c+u}else if("notNull"===c)for(var l in d)i+=o+d[l]+"!==null",l<d.length-1&&(i+=" && ");else console.warn("Unsupported operator: ",c);e.transform.push({type:"filter",test:i})}return e},n.filterLessThanZero=function(e,t){t.forEach(function(a,n){"log"===t.scale(n).type&&e.transform.push({type:"filter",test:"d."+t.field(n)+">0"})})}},{"../globals":32}],17:[function(e,t,a){"use strict";function n(e,t){return t=t||{},{_name:e||void 0,type:"group",from:t.from,properties:{enter:{x:t.x||void 0,y:t.y||void 0,width:t.width||{group:"width"},height:t.height||{group:"height"}}},scales:t.scales||void 0,axes:t.axes||void 0,marks:t.marks||[]}}t.exports={def:n}},{}],18:[function(e,t,a){"use strict";function n(e,t){var a=r(e,t);return a=i(e,t,a)}function r(e,t){var a,n,r=e.has(ROW),f=e.has(COL),i=e.has(X),c=e.has(Y),d=e.marktype(),o=i&&e.isDimension(X)?e.cardinality(X,t):1,s=c&&e.isDimension(Y)?e.cardinality(Y,t):1,u=o>e.config("largeBandMaxCardinality")||s>e.config("largeBandMaxCardinality"),l=e.config("cellPadding");

a=i?e.isOrdinalScale(X)?(o+e.band(X).padding)*e.bandSize(X,u):f||r?e.enc(COL).width:e.config("singleWidth"):d===TEXT?e.config("textCellWidth"):e.bandSize(X),n=c?e.isOrdinalScale(Y)?(s+e.band(Y).padding)*e.bandSize(Y,u):f||r?e.enc(ROW).height:e.config("singleHeight"):e.bandSize(Y);var b=a,p=n;if(f){var h=e.cardinality(COL,t);b=a*((1+l)*(h-1)+1)}if(r){var g=e.cardinality(ROW,t);p=n*((1+l)*(g-1)+1)}return{cellWidth:a,cellHeight:n,cellPadding:l,width:b,height:p,x:{useSmallBand:u},y:{useSmallBand:u}}}function f(e,t,a){return e.isType(a,Q)?20:e.isType(a,T)?20:t[e.fieldName(a)].max}function i(e,t,a){return[X,Y].forEach(function(n){var r;e.isDimension(n)||e.isType(n,T)?r=f(e,t,n):"count"===e.aggregate(n)?r=3:e.isType(n,Q)&&(r=n===X?3:Math.min(f(e,t,n),7)),d(a,[n,"axisTitleOffset"],e.config("characterWidth")*r+20)}),a}e("../globals");var c=e("../util"),d=c.setter;t.exports=n},{"../globals":32,"../util":40}],19:[function(e,t,a){"use strict";e("../globals");var n=e("./time"),r=t.exports={};r.defs=function(e){var t=[];if(e.has(COLOR)&&e.legend(COLOR)&&t.push(r.def(COLOR,e,{fill:COLOR,orient:"right"})),e.has(SIZE)&&e.legend(SIZE)&&t.push(r.def(SIZE,e,{size:SIZE,orient:1===t.length?"left":"right"})),e.has(SHAPE)&&e.legend(SHAPE)){if(2===t.length)return console.error("Vega-lite currently only supports two legends"),t;t.push(r.def(SHAPE,e,{shape:SHAPE,orient:1===t.length?"left":"right"}))}return t},r.def=function(e,t,a){var r,f=a;if(f.title=t.fieldTitle(e),t.isType(e,T)&&(r=t.timeUnit(e))&&n.hasScale(r)){var i=f.properties=f.properties||{},c=i.labels=i.labels||{},d=c.text=c.text||{};d.scale="time-"+r}return f}},{"../globals":32,"./time":27}],20:[function(e,t,a){"use strict";function n(e,t,a){var n={};return e.isMeasure(X)?(n.x={scale:X,field:e.field(X)},(!e.has(Y)||e.isDimension(Y))&&(n.x2={value:0})):e.has(X)?n.xc={scale:X,field:e.field(X)}:n.x={value:0,offset:e.config("singleBarOffset")},n.x2||(n.width=!e.has(X)||e.isOrdinalScale(X)?e.has(SIZE)?{scale:SIZE,field:e.field(SIZE)}:{value:e.bandSize(X,t.x.useSmallBand),offset:-1}:{value:2}),e.isMeasure(Y)?(n.y={scale:Y,field:e.field(Y)},n.y2={group:"height"}):(e.has(Y)?n.yc={scale:Y,field:e.field(Y)}:n.y2={group:"height",offset:-e.config("singleBarOffset")},n.height=e.has(SIZE)?{scale:SIZE,field:e.field(SIZE)}:{value:e.bandSize(Y,t.y.useSmallBand),offset:-1}),n.fill=e.has(COLOR)?{scale:COLOR,field:e.field(COLOR)}:{value:e.value(COLOR)},e.has(ALPHA)?n.opacity={scale:ALPHA,field:e.field(ALPHA)}:void 0!==e.value(ALPHA)&&(n.opacity={value:e.value(ALPHA)}),n}function r(e,t,a){var n={};return e.has(X)?n.x={scale:X,field:e.field(X)}:e.has(X)||(n.x={value:e.bandSize(X,t.x.useSmallBand)/2}),e.has(Y)?n.y={scale:Y,field:e.field(Y)}:e.has(Y)||(n.y={value:e.bandSize(Y,t.y.useSmallBand)/2}),e.has(SIZE)?n.size={scale:SIZE,field:e.field(SIZE)}:e.has(SIZE)||(n.size={value:e.value(SIZE)}),e.has(SHAPE)?n.shape={scale:SHAPE,field:e.field(SHAPE)}:e.has(SHAPE)||(n.shape={value:e.value(SHAPE)}),e.has(COLOR)?n.stroke={scale:COLOR,field:e.field(COLOR)}:e.has(COLOR)||(n.stroke={value:e.value(COLOR)}),e.has(ALPHA)?n.opacity={scale:ALPHA,field:e.field(ALPHA)}:void 0!==e.value(ALPHA)?n.opacity={value:e.value(ALPHA)}:e.has(COLOR)||(n.opacity={value:a.opacity}),n.strokeWidth={value:e.config("strokeWidth")},n}function f(e,t,a){var n={};return e.has(X)?n.x={scale:X,field:e.field(X)}:e.has(X)||(n.x={value:0}),e.has(Y)?n.y={scale:Y,field:e.field(Y)}:e.has(Y)||(n.y={group:"height"}),e.has(COLOR)?n.stroke={scale:COLOR,field:e.field(COLOR)}:e.has(COLOR)||(n.stroke={value:e.value(COLOR)}),e.has(ALPHA)?n.opacity={scale:ALPHA,field:e.field(ALPHA)}:void 0!==e.value(ALPHA)&&(n.opacity={value:e.value(ALPHA)}),n.strokeWidth={value:e.config("strokeWidth")},n}function i(e,t,a){var n={};return e.isMeasure(X)?(n.x={scale:X,field:e.field(X)},e.isDimension(Y)&&(n.x2={scale:X,value:0},n.orient={value:"horizontal"})):n.x=e.has(X)?{scale:X,field:e.field(X)}:{value:0},e.isMeasure(Y)?(n.y={scale:Y,field:e.field(Y)},n.y2={scale:Y,value:0}):n.y=e.has(Y)?{scale:Y,field:e.field(Y)}:{group:"height"},e.has(COLOR)?n.fill={scale:COLOR,field:e.field(COLOR)}:e.has(COLOR)||(n.fill={value:e.value(COLOR)}),e.has(ALPHA)?n.opacity={scale:ALPHA,field:e.field(ALPHA)}:void 0!==e.value(ALPHA)&&(n.opacity={value:e.value(ALPHA)}),n}function c(e,t,a){var n={};return e.has(X)?(n.x={scale:X,field:e.field(X)},e.isDimension(X)&&(n.x.offset=-e.bandSize(X,t.x.useSmallBand)/3)):e.has(X)||(n.x={value:0}),e.has(Y)?(n.y={scale:Y,field:e.field(Y)},e.isDimension(Y)&&(n.y.offset=-e.bandSize(Y,t.y.useSmallBand)/3)):e.has(Y)||(n.y={value:0}),n.width=!e.has(X)||e.isDimension(X)?{value:e.bandSize(X,t.y.useSmallBand)/1.5}:{value:1},n.height=!e.has(Y)||e.isDimension(Y)?{value:e.bandSize(Y,t.y.useSmallBand)/1.5}:{value:1},n.fill=e.has(COLOR)?{scale:COLOR,field:e.field(COLOR)}:{value:e.value(COLOR)},e.has(ALPHA)?n.opacity={scale:ALPHA,field:e.field(ALPHA)}:void 0!==e.value(ALPHA)?n.opacity={value:e.value(ALPHA)}:e.has(COLOR)||(n.opacity={value:a.opacity}),n}function d(e){return function(t,a,n){var r={};return t.has(X)?r.x={scale:X,field:t.field(X)}:t.has(X)||(r.x={value:t.bandSize(X,a.x.useSmallBand)/2}),t.has(Y)?r.y={scale:Y,field:t.field(Y)}:t.has(Y)||(r.y={value:t.bandSize(Y,a.y.useSmallBand)/2}),t.has(SIZE)?r.size={scale:SIZE,field:t.field(SIZE)}:t.has(X)||(r.size={value:t.value(SIZE)}),r.shape={value:e},t.has(COLOR)?r.fill={scale:COLOR,field:t.field(COLOR)}:t.has(COLOR)||(r.fill={value:t.value(COLOR)}),t.has(ALPHA)?r.opacity={scale:ALPHA,field:t.field(ALPHA)}:void 0!==t.value(ALPHA)?r.opacity={value:t.value(ALPHA)}:t.has(COLOR)||(r.opacity={value:n.opacity}),r}}function o(e,t,a){var n={};return e.has(X)?n.x={scale:X,field:e.field(X)}:e.has(X)||(n.x=e.has(TEXT)&&e.isType(TEXT,Q)?{value:t.cellWidth-5}:{value:e.bandSize(X,t.x.useSmallBand)/2}),e.has(Y)?n.y={scale:Y,field:e.field(Y)}:e.has(Y)||(n.y={value:e.bandSize(Y,t.y.useSmallBand)/2}),e.has(SIZE)?n.fontSize={scale:SIZE,field:e.field(SIZE)}:e.has(SIZE)||(n.fontSize={value:e.font("size")}),n.fill={value:"black"},n.opacity=e.has(ALPHA)?{scale:ALPHA,field:e.field(ALPHA)}:void 0!==e.value(ALPHA)?{value:e.value(ALPHA)}:{value:a.opacity},e.has(TEXT)?e.isType(TEXT,Q)?(n.text={template:"{{"+e.field(TEXT)+" | number:'.3s'}}"},n.align={value:"right"}):n.text={field:e.field(TEXT)}:n.text={value:"Abc"},n.font={value:e.font("family")},n.fontWeight={value:e.font("weight")},n.fontStyle={value:e.font("style")},n.baseline={value:e.text("baseline")},n}e("../globals");var s=t.exports={};s.def=function(e,t,a,n){var r=[];if(t.marktype()===TEXT&&t.has(COLOR)){var f={x:{value:0},y:{value:0},x2:{value:a.cellWidth},y2:{value:a.cellHeight},fill:{scale:COLOR,field:t.field(COLOR)}};r.push({type:"rect",from:{data:TABLE},properties:{enter:f,update:f}})}var i=e.prop(t,a,n);return r.push({type:e.type,from:{data:TABLE},properties:{enter:i,update:i}}),r},s.bar={type:"rect",stack:!0,prop:n,requiredEncoding:["x","y"],supportedEncoding:{row:1,col:1,x:1,y:1,size:1,color:1,alpha:1}},s.line={type:"line",line:!0,prop:f,requiredEncoding:["x","y"],supportedEncoding:{row:1,col:1,x:1,y:1,color:1,alpha:1,detail:1}},s.area={type:"area",stack:!0,line:!0,requiredEncoding:["x","y"],prop:i,supportedEncoding:{row:1,col:1,x:1,y:1,color:1,alpha:1}},s.tick={type:"rect",prop:c,supportedEncoding:{row:1,col:1,x:1,y:1,color:1,alpha:1,detail:1}},s.circle={type:"symbol",prop:d("circle"),supportedEncoding:{row:1,col:1,x:1,y:1,size:1,color:1,alpha:1,detail:1}},s.square={type:"symbol",prop:d("square"),supportedEncoding:s.circle.supportedEncoding},s.point={type:"symbol",prop:r,supportedEncoding:{row:1,col:1,x:1,y:1,size:1,color:1,alpha:1,shape:1,detail:1}},s.text={type:"text",prop:o,requiredEncoding:["text"],supportedEncoding:{row:1,col:1,size:1,color:1,alpha:1,text:1}}},{"../globals":32}],21:[function(e,t,a){"use strict";function n(e,t,a,n,r,f){var i=t.scale(e.name);switch(e.name){case X:"ordinal"===e.type?e.bandWidth=t.bandSize(X,a.x.useSmallBand):(e.range=a.cellWidth?[0,a.cellWidth]:"width",e.zero=t.isType(e.name,T)&&"year"===t.timeUnit(e.name)?!1:void 0===i.zero?!0:i.zero,e.reverse=i.reverse),e.round=!0,e.nice="time"===e.type?t.timeUnit(e.name):!0;break;case Y:"ordinal"===e.type?e.bandWidth=t.bandSize(Y,a.y.useSmallBand):(e.range=a.cellHeight?[a.cellHeight,0]:"height",e.zero=t.isType(e.name,T)&&"year"===t.timeUnit(e.name)?!1:void 0===i.zero?!0:i.zero,e.reverse=i.reverse),e.round=!0,e.nice="time"===e.type?t.timeUnit(e.name)||t.config("timeScaleNice"):!0;break;case ROW:e.bandWidth=a.cellHeight,e.round=!0,e.nice=!0;break;case COL:e.bandWidth=a.cellWidth,e.round=!0,e.nice=!0;break;case SIZE:if(t.is("bar"))e.range=[3,Math.max(t.bandSize(X),t.bandSize(Y))];else if(t.is(TEXT))e.range=[8,40];else{var c=Math.min(t.bandSize(X),t.bandSize(Y))-1;e.range=[10,.8*c*c]}e.round=!0,e.zero=!1;break;case SHAPE:e.range="shapes";break;case COLOR:e.range=d.color(e,t,n);break;case ALPHA:e.range=[.2,1];break;default:throw new Error("Unknown encoding name: "+e.name)}switch(e.name){case ROW:case COL:e.padding=t.config("cellPadding"),e.outerPadding=0;break;case X:case Y:"ordinal"===e.type&&(e.points=!0,e.padding=t.band(e.name).padding)}}e("../globals");var r=e("../util"),f=e("./time"),i=e("../lib/colorbrewer/colorbrewer"),c=e("../lib/d3-color/interpolate-lab"),d=t.exports={};d.names=function(e){return r.keys(r.keys(e).reduce(function(t,a){return e[a]&&e[a].scale&&(t[e[a].scale]=1),t},{}))},d.defs=function(e,t,a,r,f,i,c){return c=c||{},e.reduce(function(e,o){var s={name:o,type:d.type(o,t),domain:d.domain(o,t,i,c)};return"ordinal"!==s.type||t.bin(o)||0!==t.sort(o).length||(s.sort=!0),n(s,t,a,r,f,c),e.push(s),e},[])},d.type=function(e,t){switch(t.type(e)){case N:case O:return"ordinal";case T:var a=t.timeUnit(e);return a&&f.scale.type(a,e)||"time";case Q:return t.bin(e)?e===COLOR?"linear":"ordinal":t.scale(e).type}},d.domain=function(e,t,a,n){if(t.isType(e,T)){var r=f.scale.domain(t.timeUnit(e),e);if(r)return r}return e==n.stack?{data:STACKED,field:t.fieldRef(e,{data:!t._vega2,fn:(n.facet?"max_":"")+"sum"})}:{data:a.getDataset(e),field:t.field(e)}},d.color=function(e,t,a){var n=t.scale(COLOR).range,r=t.cardinality(COLOR,a),f=t.type(COLOR);if(void 0===n){var c=t.config("ordinalPalette");if("ordinal"===e.type)n=f===N?10>=r?"category10-k":"category20":2>=r?[i[c][3][0],i[c][3][2]]:c;else{var o=i[c][9];n=[o[0],o[8]],e.zero=!1}}return d.color.palette(n,r,f)},d.color.palette=function(e,t,a){switch(e){case"category10k":return["#2ca02c","#e377c2","#7f7f7f","#17becf","#8c564b","#d62728","#bcbd22","#9467bd","#ff7f0e","#1f77b4"];case"category10":return["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];case"category20":return["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"];case"category20b":return["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"];case"category20c":return["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"]}if(e in i){var n=i[e],f=5;return t in n?n[t]:a===N?n[Math.max.apply(null,r.keys(n))]:d.color.interpolate(n[f][0],n[f][f-1],t)}return e},d.color.interpolate=function(e,t,a){var n=c(e,t);return r.range(a).map(function(e){return n(1*e/(a-1))})}},{"../globals":32,"../lib/colorbrewer/colorbrewer":33,"../lib/d3-color/interpolate-lab":36,"../util":40,"./time":27}],22:[function(e,t,a){"use strict";function n(e,t,a,n){var f={},i=0;return t.forEach(function(n,c){var d=t.sort(c,a);if(d.length>0){var o=d.map(function(e){return{op:e.aggregate,field:r.fieldRef(e,{nofn:!0,data:!t._vega2})}}),s=d.map(function(e){var a=e.reverse?"-":"";return a+r.fieldRef(e,{data:!t._vega2})}),u="sorted"+i++,l=[{type:"aggregate",groupby:[t.fieldRef(c)],fields:o},{type:"sort",by:s}];e.push({name:u,source:RAW,transform:l}),f[c]=u}}),{getDataset:function(e){var t=f[e];return t?t:TABLE}}}e("../globals");var r=e("../field");t.exports=n},{"../field":31,"../globals":32}],23:[function(e,t,a){"use strict";function n(e,t,a,n){if(!r[t.marktype()].stack)return!1;if(!t.has(COLOR))return!1;var f=null,i=null,c=null,d=t.isMeasure(X),o=t.isMeasure(Y);if(d&&!o)f=Y,i=X,c=0;else{if(!o||d)return null;f=X,i=Y,c=1}var s={name:STACKED,source:TABLE,transform:[{type:"aggregate",groupby:[t.field(f)].concat(n),fields:[{op:"sum",field:t.field(i)}]}]};return n&&n.length>0&&s.transform.push({type:"aggregate",groupby:n,fields:[{op:"max",field:t.fieldName(i,{fn:"sum"})}]}),e.push(s),a.from.transform=[{type:"stack",point:t.field(f),height:t.field(i),output:{y1:i,y0:i+"2"}}],a.properties.update[i]=a.properties.enter[i]={scale:i,field:i},a.properties.update[i+"2"]=a.properties.enter[i+"2"]={scale:i,field:i+"2"},i}e("../globals");var r=e("./marks");t.exports=n},{"../globals":32,"./marks":20}],24:[function(e,t,a){"use strict";function n(e,t){if(!t)return 1;var a=0;if(e.isAggregate())a=1,e.forEach(function(n,f){f===ROW||f===COL||(f===X||f===Y)&&r.isOrdinalScale(n)||(a*=e.cardinality(f,t))});else{a=t.count;var n=1;e.has(ROW)&&(n*=e.cardinality(ROW,t)),e.has(COL)&&(n*=e.cardinality(COL,t)),a/=n}var f=0;return f=20>a?1:200>a?.7:1e3>a||e.is("tick")?.6:.3}e("../globals");var r=e("../field");t.exports=function(e,t){return{opacity:n(e,t)}}},{"../field":31,"../globals":32}],25:[function(e,t,a){"use strict";function n(e,t,a,n,f){var i=e.marks,c=r("subfacet",{marks:i});e.marks=[c],c.from=t.from,delete t.from;var d=c.from.transform||(c.from.transform=[]);d.unshift({type:"facet",keys:a}),n&&f.has(COLOR)&&d.unshift({type:"sort",by:f.field(COLOR)})}e("../globals");var r=e("./group").def;t.exports=n},{"../globals":32,"./group":17}],26:[function(e,t,a){"use strict";function n(e,t,a){var n={name:RAW,format:{}},i={name:TABLE,source:RAW},c=e.data("url"),d=e.data("formatType"),o=e.data("values");return e.hasValues()?n.values=o:(n.url=c,n.format.type=d),e.forEach(function(e,t){var a;e.type==T?(n.format.parse=n.format.parse||{},n.format.parse[e.name]="date"):e.type==Q&&(n.format.parse=n.format.parse||{},a=f.isCount(e)?"count":e.name,n.format.parse[a]="number")}),{width:t.width,height:t.height,padding:"auto",data:[n,i],marks:[r("cell",{width:t.cellWidth?{value:t.cellWidth}:void 0,height:t.cellHeight?{value:t.cellHeight}:void 0})]}}e("../globals");var r=e("./group").def,f=e("../field");t.exports=n},{"../field":31,"../globals":32,"./group":17}],27:[function(e,t,a){"use strict";function n(e,t,a){var r={},f={};t.forEach(function(e,a){e.type===T&&e.timeUnit&&(r[t.field(a)]={field:e,encType:a},f[e.timeUnit]=!0)});var i=e.data[1],c=i.transform=i.transform||[];for(var d in r){var o=r[d];n.transform(c,t,o.encType,o.field)}var s=e.scales=e.scales||[];for(var u in f)n.scale(s,u,t);return e}function r(e,t){return"utc"+e+"(d.data."+t.name+")"}var f=e("../util");t.exports=n,n.cardinality=function(e,t,a,n){var r=e.timeUnit;switch(r){case"seconds":return 60;case"minutes":return 60;case"hours":return 24;case"day":return 7;case"date":return 31;case"month":return 12;case"year":var f=t[e.name],i=t["year_"+e.name];return i?i.distinct-(f.nulls>0&&a[n]?1:0):null}return null},n.formula=function(e){return r(e.timeUnit,e)},n.transform=function(e,t,a,r){e.push({type:"formula",field:t.field(a),expr:n.formula(r)})},n.scale=function(e,t,a){var n=a.config("timeScaleLabelLength");switch(t){case"day":e.push({name:"time-"+t,type:"ordinal",domain:f.range(0,7),range:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(function(e){return e.substr(0,n)})});break;case"month":e.push({name:"time-"+t,type:"ordinal",domain:f.range(0,12),range:["January","February","March","April","May","June","July","August","September","October","November","December"].map(function(e){return e.substr(0,n)})})}},n.isOrdinalFn=function(e){switch(e){case"seconds":case"minutes":case"hours":case"day":case"date":case"month":return!0}return!1},n.scale.type=function(e,t){return t===COLOR?"linear":n.isOrdinalFn(e)||t===COL||t===ROW?"ordinal":"linear"},n.scale.domain=function(e,t){var a=t===COLOR;switch(e){case"seconds":case"minutes":return a?[0,59]:f.range(0,60);case"hours":return a?[0,23]:f.range(0,24);case"day":return a?[0,6]:f.range(0,7);case"date":return a?[1,31]:f.range(1,32);case"month":return a?[0,11]:f.range(0,12)}return null},n.hasScale=function(e){switch(e){case"day":case"month":return!0}return!1}},{"../util":40}],28:[function(e,t,a){"use strict";e("./globals");var n=t.exports={};n.encodingTypes=[X,Y,ROW,COL,SIZE,SHAPE,COLOR,ALPHA,TEXT,DETAIL],n.shorthand={delim:"|",assign:"=",type:",",func:"_"}},{"./globals":32}],29:[function(e,t,a){"use strict";e("./globals");var n=t.exports={};n.types={"boolean":N,number:Q,integer:Q,date:T,string:N}},{"./globals":32}],30:[function(e,t,a){"use strict";var n=e("./consts"),r=n.shorthand,f=e("./field"),i=e("./util"),c=e("./schema/schema"),d=c.encTypes,o=t.exports={};o.countRetinal=function(e){var t=0;return e.color&&t++,e.alpha&&t++,e.size&&t++,e.shape&&t++,t},o.has=function(e,t){var a=e&&e[t];return a&&a.name},o.isAggregate=function(e){for(var t in e)if(o.has(e,t)&&e[t].aggregate)return!0;return!1},o.forEach=function(e,t){var a=0;d.forEach(function(n){o.has(e,n)&&t(e[n],n,a++)})},o.map=function(e,t){var a=[];return d.forEach(function(n){o.has(e,n)&&a.push(t(e[n],n,e))}),a},o.reduce=function(e,t,a){var n=a;return d.forEach(function(a){o.has(e,a)&&(n=t(n,e[a],a,e))}),n},o.fields=function(e){return o.reduce(e,function(e,t){var a=e[t.name]=e[t.name]||[],n=a.containsType=a.containsType||{};return-1===a.indexOf(t)&&(a.push(t),n[t.type]=!0),e},{})},o.shorthand=function(e){return o.map(e,function(e,t){return t+r.assign+f.shorthand(e)}).join(r.delim)},o.fromShorthand=function(e){var t=i.isArray(e)?e:e.split(r.delim);return t.reduce(function(e,t){var a=t.split(r.assign),n=a[0].trim(),i=a[1];return e[n]=f.fromShorthand(i),e},{})}},{"./consts":28,"./field":31,"./schema/schema":38,"./util":40}],31:[function(e,t,a){"use strict";function n(e){return l(e,[N,O])||!!e.bin||u(e,T)&&!!e.timeUnit}e("./globals");var r=e("./consts"),f=r.shorthand,i=e("./compile/time"),c=e("./util"),d=e("./schema/schema"),o=t.exports={};o.fieldRef=function(e,t){t=t||{};var a=t.data?"data.":"",n=t.nofn||t.fn,r=e.name;return o.isCount(e)?a+"count":!n&&e.bin?a+"bin_"+r:!n&&e.aggregate?a+e.aggregate+"_"+r:!n&&e.timeUnit?a+e.timeUnit+"_"+r:t.fn?a+t.fn+"_"+r:a+r},o.shorthand=function(e){var t=r.shorthand;return(e.aggregate?e.aggregate+t.func:"")+(e.timeUnit?e.timeUnit+t.func:"")+(e.bin?"bin"+t.func:"")+(e.name||"")+t.type+e.type},o.shorthands=function(e,t){return t=t||f.delim,e.map(o.shorthand).join(t)},o.fromShorthand=function(e){var t,a=e.split(f.type),n={name:a[0].trim(),type:a[1].trim()};for(t in d.aggregate["enum"]){var r=d.aggregate["enum"][t];if(0===n.name.indexOf(r+"_")){n.name=n.name.substr(r.length+1),"count"==r&&0===n.name.length&&(n.name="*"),n.aggregate=r;break}}for(t in d.timefns){var i=d.timefns[t];if(n.name&&0===n.name.indexOf(i+"_")){n.name=n.name.substr(n.length+1),n.timeUnit=i;break}}return n.name&&0===n.name.indexOf("bin_")&&(n.name=n.name.substr(4),n.bin=!0),n};var s={N:0,O:1,G:2,T:3,Q:4};o.order={},o.order.type=function(e){return"count"===e.aggregate?4:s[e.type]},o.order.typeThenName=function(e){return o.order.type(e)+"_"+e.name.toLowerCase()},o.order.original=function(){return 0},o.order.name=function(e){return e.name},o.order.typeThenCardinality=function(e,t){return t[e.name].distinct};var u=o.isType=function(e,t){return e.type===t},l=o.isTypes=function(e,t){for(var a=0;a<t.length;a++)if(e.type===t[a])return!0;return!1};o.isOrdinalScale=function(e){return l(e,[N,O])||e.bin||u(e,T)&&e.timeUnit&&i.isOrdinalFn(e.timeUnit)},o.isDimension=function(e){return e&&n(e)},o.isMeasure=function(e){return e&&!n(e)},o.role=function(e){return n(e)?"dimension":"measure"},o.count=function(){return{name:"*",aggregate:"count",type:Q,displayName:o.count.displayName}},o.count.displayName="Number of Records",o.isCount=function(e){return"count"===e.aggregate},o.cardinality=function(e,t,a){var n=t[e.name],r=e.type;if(a=a||{},e.bin){var f=c.getbins(n,e.bin.maxbins||d.MAXBINS_DEFAULT);return(f.stop-f.start)/f.step}if(u(e,T)){var o=i.cardinality(e,t,a,r);if(null!==o)return o}return e.aggregate?1:n.distinct-(n.nulls>0&&a[r]?1:0)}},{"./compile/time":27,"./consts":28,"./globals":32,"./schema/schema":38,"./util":40}],32:[function(e,t,a){(function(e){"use strict";var t=e||window;t.TABLE="table",t.RAW="raw",t.STACKED="stacked",t.INDEX="index",t.X="x",t.Y="y",t.ROW="row",t.COL="col",t.SIZE="size",t.SHAPE="shape",t.COLOR="color",t.ALPHA="alpha",t.TEXT="text",t.DETAIL="detail",t.N="N",t.O="O",t.Q="Q",t.T="T"}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(e,t,a){t.exports={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],
6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}}},{}],34:[function(e,t,a){"use strict";t.exports=function(e,t){for(var a in t)Object.defineProperty(e.prototype,a,{value:t[a],enumerable:!1})}},{}],35:[function(e,t,a){"use strict";function n(){}function r(e,t,a){return this instanceof r?(this.h=+e,this.s=+t,void(this.l=+a)):arguments.length<2?e instanceof r?new r(e.h,e.s,e.l):g(""+e,m,r):new r(e,t,a)}function f(e,t,a){function n(e){return e>360?e-=360:0>e&&(e+=360),60>e?f+(i-f)*e/60:180>e?i:240>e?f+(i-f)*(240-e)/60:f}function r(e){return Math.round(255*n(e))}var f,i;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,a=0>a?0:a>1?1:a,i=.5>=a?a*(1+t):a+t-a*t,f=2*a-i,new b(r(e+120),r(e),r(e-120))}function i(e,t,a){return this instanceof i?(this.h=+e,this.c=+t,void(this.l=+a)):arguments.length<2?e instanceof i?new i(e.h,e.c,e.l):e instanceof d?o(e.l,e.a,e.b):o((e=y((e=x.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new i(e,t,a)}function c(e,t,a){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new d(a,Math.cos(e*=d3_radians)*t,Math.sin(e)*t)}function d(e,t,a){return this instanceof d?(this.l=+e,this.a=+t,void(this.b=+a)):arguments.length<2?e instanceof d?new d(e.l,e.a,e.b):e instanceof i?c(e.h,e.c,e.l):y((e=b(e)).r,e.g,e.b):new d(e,t,a)}function o(e,t,a){return e>0?new i(Math.atan2(a,t)*d3_degrees,Math.sqrt(t*t+a*a),e):new i(0/0,0/0,e)}function s(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function u(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function l(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function b(e,t,a){return this instanceof b?(this.r=~~e,this.g=~~t,void(this.b=~~a)):arguments.length<2?e instanceof b?new b(e.r,e.g,e.b):g(""+e,b,f):new b(e,t,a)}function p(e){return new b(e>>16,e>>8&255,255&e)}function h(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function g(e,t,a){var n,r,f,i=0,c=0,d=0;if(n=/([a-z]+)\((.*)\)/i.exec(e))switch(r=n[2].split(","),n[1]){case"hsl":return a(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return t(O(r[0]),O(r[1]),O(r[2]))}return(f=_.get(e.toLowerCase()))?t(f.r,f.g,f.b):(null==e||"#"!==e.charAt(0)||isNaN(f=parseInt(e.slice(1),16))||(4===e.length?(i=(3840&f)>>4,i=i>>4|i,c=240&f,c=c>>4|c,d=15&f,d=d<<4|d):7===e.length&&(i=(16711680&f)>>16,c=(65280&f)>>8,d=255&f)),t(i,c,d))}function m(e,t,a){var n,f,i=Math.min(e/=255,t/=255,a/=255),c=Math.max(e,t,a),d=c-i,o=(c+i)/2;return d?(f=.5>o?d/(c+i):d/(2-c-i),n=e==c?(t-a)/d+(a>t?6:0):t==c?(a-e)/d+2:(e-t)/d+4,n*=60):(n=0/0,f=o>0&&1>o?0:n),new r(n,f,o)}function y(e,t,a){e=v(e),t=v(t),a=v(a);var n=u((.4124564*e+.3575761*t+.1804375*a)/A),r=u((.2126729*e+.7151522*t+.072175*a)/T),f=u((.0193339*e+.119192*t+.9503041*a)/L);return d(116*r-16,500*(n-r),200*(r-f))}function v(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function O(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}var x=t.exports={map:e("./map")};x.color=n,n.prototype.toString=function(){return this.rgb()+""},x.hsl=r;var k=r.prototype=new n;k.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new r(this.h,this.s,this.l/e)},k.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new r(this.h,this.s,e*this.l)},k.rgb=function(){return f(this.h,this.s,this.l)},x.hcl=i;var w=i.prototype=new n;w.brighter=function(e){return new i(this.h,this.c,Math.min(100,this.l+S*(arguments.length?e:1)))},w.darker=function(e){return new i(this.h,this.c,Math.max(0,this.l-S*(arguments.length?e:1)))},w.rgb=function(){return c(this.h,this.c,this.l).rgb()},x.lab=d;var S=18,A=.95047,T=1,L=1.08883,E=d.prototype=new n;E.brighter=function(e){return new d(Math.min(100,this.l+S*(arguments.length?e:1)),this.a,this.b)},E.darker=function(e){return new d(Math.max(0,this.l-S*(arguments.length?e:1)),this.a,this.b)},E.rgb=function(){return d3_lab_rgb(this.l,this.a,this.b)},x.lab_rgb=function(e,t,a){var n=(e+16)/116,r=n+t/500,f=n-a/200;return r=s(r)*A,n=s(n)*T,f=s(f)*L,new b(l(3.2404542*r-1.5371385*n-.4985314*f),l(-.969266*r+1.8760108*n+.041556*f),l(.0556434*r-.2040259*n+1.0572252*f))},x.rgb=b;var M=b.prototype=new n;M.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,a=this.g,n=this.b,r=30;return t||a||n?(t&&r>t&&(t=r),a&&r>a&&(a=r),n&&r>n&&(n=r),new b(Math.min(255,t/e),Math.min(255,a/e),Math.min(255,n/e))):new b(r,r,r)},M.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new b(e*this.r,e*this.g,e*this.b)},M.hsl=function(){return m(this.r,this.g,this.b)},M.toString=function(){return"#"+h(this.r)+h(this.g)+h(this.b)};var _=x.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});_.forEach(function(e,t){_.set(e,p(t))})},{"./map":37}],36:[function(e,t,a){"use strict";var n=e("./color");t.exports=function(e,t){e=n.lab(e),t=n.lab(t);var a=e.l,r=e.a,f=e.b,i=t.l-a,c=t.a-r,d=t.b-f;return function(e){return n.lab_rgb(a+i*e,r+c*e,f+d*e)+""}}},{"./color":35}],37:[function(e,t,a){"use strict";function n(){this._=Object.create(null)}function r(e){return(e+="")===l||e[0]===b?b+e:e}function f(e){return(e+="")[0]===b?e.slice(1):e}function i(e){return r(e)in this._}function c(e){return(e=r(e))in this._&&delete this._[e]}function d(){var e=[];for(var t in this._)e.push(f(t));return e}function o(){var e=0;for(var t in this._)++e;return e}function s(){for(var e in this._)return!1;return!0}var u=e("./class");t.exports=function(e,t){var a=new n;if(e instanceof n)e.forEach(function(e,t){a.set(e,t)});else if(Array.isArray(e)){var r,f=-1,i=e.length;if(1===arguments.length)for(;++f<i;)a.set(f,e[f]);else for(;++f<i;)a.set(t.call(e,r=e[f],f),r)}else for(var c in e)a.set(c,e[c]);return a};var l="__proto__",b="\x00";u(n,{has:i,get:function(e){return this._[r(e)]},set:function(e,t){return this._[r(e)]=t},remove:c,keys:d,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:f(t),value:this._[t]});return e},size:o,empty:s,forEach:function(e){for(var t in this._)e.call(this,f(t),this._[t])}})},{"./class":34}],38:[function(e,t,a){"use strict";e("../globals");var n=t.exports={},r=e("../util"),f=r.toMap,i=e("../lib/colorbrewer/colorbrewer");n.util=e("./schemautil"),n.marktype={type:"string","enum":["point","tick","bar","line","area","circle","square","text"]},n.aggregate={type:"string","enum":["avg","sum","median","min","max","count"],supportedEnums:{Q:["avg","median","sum","min","max","count"],O:["median","min","max"],N:[],T:["avg","median","min","max"],"":["count"]},supportedTypes:f([Q,N,O,T,""])},n.band={type:"object",properties:{size:{type:"integer",minimum:0},padding:{type:"integer",minimum:0,"default":1}}},n.getSupportedRole=function(e){return n.schema.properties.encoding.properties[e].supportedRole},n.timeUnits=["year","month","day","date","hours","minutes","seconds"],n.defaultTimeFn="month",n.timeUnit={type:"string","enum":n.timeUnits,supportedTypes:f([T])},n.scale_type={type:"string","enum":["linear","log","pow","sqrt","quantile"],"default":"linear",supportedTypes:f([Q])},n.field={type:"object",properties:{name:{type:"string"}}};var c=r.duplicate,d=n.util.merge;n.MAXBINS_DEFAULT=15;var o={type:["boolean","object"],"default":!1,properties:{maxbins:{type:"integer","default":n.MAXBINS_DEFAULT,minimum:2}},supportedTypes:f([Q])},s=d(c(n.field),{type:"object",properties:{type:{type:"string","enum":[N,O,Q,T]},aggregate:n.aggregate,timeUnit:n.timeUnit,bin:o,scale:{type:"object",properties:{type:n.scale_type,reverse:{type:"boolean","default":!1,supportedTypes:f([Q,T])},zero:{type:"boolean",description:"Include zero","default":!0,supportedTypes:f([Q,T])},nice:{type:"string","enum":["second","minute","hour","day","week","month","year"],supportedTypes:f([T])}}}}}),u=d(c(n.field),{type:"object",supportedRole:{dimension:!0},properties:{type:{type:"string","enum":[N,O,Q,T]},timeUnit:n.timeUnit,bin:o,aggregate:{type:"string","enum":["count"],supportedTypes:f([N,O])}}}),l={type:"object",supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0},properties:{axis:{type:"object",properties:{grid:{type:"boolean","default":!0,description:"A flag indicate if gridlines should be created in addition to ticks."},title:{type:"boolean","default":!0,description:"A title for the axis."},titleOffset:{type:"integer","default":void 0,description:"A title offset value for the axis."},format:{type:"string","default":void 0,description:"The formatting pattern for axis labels."},maxLabelLength:{type:"integer","default":25,minimum:0,description:"Truncate labels that are too long."}}}}},b={type:"object",properties:{sort:{type:"array","default":[],items:{type:"object",supportedTypes:f([N,O]),required:["name","aggregate"],name:{type:"string"},aggregate:{type:"string","enum":["avg","sum","min","max","count"]},reverse:{type:"boolean","default":!1}}}}},p={type:"object",properties:{band:n.band}},h={type:"object",properties:{legend:{type:"boolean","default":!0}}},g={type:"object",supportedMarktypes:{text:!0},properties:{text:{type:"object",properties:{align:{type:"string","default":"left"},baseline:{type:"string","default":"middle"},margin:{type:"integer","default":4,minimum:0}}},font:{type:"object",properties:{weight:{type:"string","enum":["normal","bold"],"default":"normal"},size:{type:"integer","default":10,minimum:0},family:{type:"string","default":"Helvetica Neue"},style:{type:"string","default":"normal","enum":["normal","italic"]}}}}},m={type:"object",supportedMarktypes:{point:!0,bar:!0,circle:!0,square:!0,text:!0},properties:{value:{type:"integer","default":30,minimum:0}}},y={type:"object",supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0,text:!0},properties:{value:{type:"string",role:"color","default":"steelblue"},scale:{type:"object",properties:{range:{type:["string","array"]}}}}},v={type:"object",supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0,text:!0},properties:{value:{type:"number","default":void 0,minimum:0,maximum:1}}},x={type:"object",supportedMarktypes:{point:!0,circle:!0,square:!0},properties:{value:{type:"string","enum":["circle","square","cross","diamond","triangle-up","triangle-down"],"default":"circle"}}},k={type:"object",supportedMarktypes:{point:!0,tick:!0,line:!0,circle:!0,square:!0}},w={properties:{height:{type:"number",minimum:0,"default":150},grid:{type:"boolean","default":!0,description:"A flag indicate if gridlines should be created in addition to ticks."}}},S={properties:{width:{type:"number",minimum:0,"default":150},axis:{properties:{maxLabelLength:{type:"integer","default":12,minimum:0,description:"Truncate labels that are too long."}}}}},A={type:"object",supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0,text:!0},properties:{padding:{type:"number",minimum:0,maximum:1,"default":.1}}},L={required:["name","type"]},E=d(c(s),{supportedRole:{measure:!0,dimension:!0}}),M=d(c(s),{supportedRole:{measure:!0,dimension:"ordinal-only"}}),_=d(c(s),{supportedRole:{measure:!0}}),C=d(c(E),l,p,L,b),R=c(C),Y=d(c(u),L,A,b),X=d(c(Y),l,w),P=d(c(Y),l,S),H=d(c(M),h,m,b),D=d(c(E),h,y,b),W=d(c(M),v,b),z=d(c(u),h,x,b),B=d(c(u),k,b),j=d(c(_),g,b),U={type:"array",items:{type:"object",properties:{operands:{type:"array",items:{type:["string","boolean","integer","number"]}},operator:{type:"string","enum":[">",">=","=","!=","<","<=","notNull"]}}}},$={type:"object",properties:{formatType:{type:"string","enum":["json","csv"],"default":"json"},url:{type:"string","default":void 0},values:{type:"array","default":void 0,description:"Pass array of objects instead of a url to a file.",items:{type:"object",additionalProperties:!0}}}},q={type:"object",properties:{width:{type:"integer","default":void 0},height:{type:"integer","default":void 0},viewport:{type:"array",items:{type:"integer"},"default":void 0},gridColor:{type:"string",role:"color","default":"black"},gridOpacity:{type:"number",minimum:0,maximum:1,"default":.08},filterNull:{type:"object",properties:{O:{type:"boolean","default":!1},Q:{type:"boolean","default":!0},T:{type:"boolean","default":!0}}},toggleSort:{type:"string","default":O},singleHeight:{type:"integer","default":200,minimum:0},singleWidth:{type:"integer","default":200,minimum:0},largeBandSize:{type:"integer","default":21,minimum:0},smallBandSize:{type:"integer","default":12,minimum:0},largeBandMaxCardinality:{type:"integer","default":10},cellPadding:{type:"number","default":.1},cellGridColor:{type:"string",role:"color","default":"black"},cellGridOpacity:{type:"number",minimum:0,maximum:1,"default":.15},cellBackgroundColor:{type:"string",role:"color","default":"transparent"},textCellWidth:{type:"integer","default":90,minimum:0},strokeWidth:{type:"integer","default":2,minimum:0},singleBarOffset:{type:"integer","default":5,minimum:0},c10palette:{type:"string","default":"category10","enum":["category10","category10k","Pastel1","Pastel2","Set1","Set2","Set3"]},c20palette:{type:"string","default":"category20","enum":["category20","category20b","category20c"]},ordinalPalette:{type:"string","default":"BuGn","enum":r.keys(i)},timeScaleLabelLength:{type:"integer","default":3,minimum:0},characterWidth:{type:"integer","default":6}}};n.schema={$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for Vega-lite specification",type:"object",required:["marktype","encoding","data"],properties:{data:$,marktype:n.marktype,encoding:{type:"object",properties:{x:C,y:R,row:X,col:P,size:H,color:D,alpha:W,shape:z,text:j,detail:B}},filter:U,config:q}},n.encTypes=r.keys(n.schema.properties.encoding.properties),n.instantiate=function(){return n.util.instantiate(n.schema)}},{"../globals":32,"../lib/colorbrewer/colorbrewer":33,"../util":40,"./schemautil":39}],39:[function(e,t,a){"use strict";function n(e,t){if("object"!=typeof t||null===t)return e;for(var a in t)t.hasOwnProperty(a)&&void 0!==t[a]&&("object"!=typeof t[a]||null===t[a]?e[a]=t[a]:"object"!=typeof e[a]||null===e[a]?e[a]=n(t[a].constructor===Array?[]:{},t[a]):n(e[a],t[a]));return e}var r=t.exports={},f=e("../util"),i=function(e){return 0===Object.keys(e).length};r.extend=function(e,t){return r.merge(r.instantiate(t),e)},r.instantiate=function(e){var t;if(void 0===e)return void 0;if("default"in e)return t=e["default"],f.isObject(t)?f.duplicate(t):t;if("object"===e.type){var a={};for(var n in e.properties)t=r.instantiate(e.properties[n]),void 0!==t&&(a[n]=t);return a}return"array"===e.type?[]:void 0},r.subtract=function(e,t){var a={};for(var n in e){var c=t[n],d=e[n];if(!t||c!==d)if("object"==typeof d&&!f.isArray(d)&&c){var o=r.subtract(d,c);i(o)||(a[n]=o)}else(!f.isArray(d)||d.length>0)&&(a[n]=d)}return a},r.merge=function(){for(var e=arguments[0],t=1;t<arguments.length;t++)e=n(e,arguments[t]);return e}},{"../util":40}],40:[function(e,t,a){"use strict";var n=t.exports=e("datalib/src/util");n.extend(n,e("datalib/src/generate")),n.bin=e("datalib/src/bins/bins"),n.isin=function(e,t){return-1!==t.indexOf(e)},n.forEach=function(e,t,a){if(e.forEach)e.forEach.call(a,t);else for(var n in e)t.call(a,e[n],n,e)},n.reduce=function(e,t,a,n){if(e.reduce)return e.reduce.call(n,t,a);for(var r in e)a=t.call(n,a,e[r],r,e);return a},n.map=function(e,t,a){if(e.map)return e.map.call(a,t);var n=[];for(var r in e)n.push(t.call(a,e[r],r,e))},n.any=function(e,t){var a,n=0;for(a in e)if(t(e[a],a,n++))return!0;return!1},n.all=function(e,t){var a,n=0;for(a in e)if(!t(e[a],a,n++))return!1;return!0},n.getbins=function(e,t){return n.bin({min:e.min,max:e.max,maxbins:t})},n.setter=function(e,t,a,n){for(var r=0;r<t.length-1;++r)e=n||t[r]in e?e[t[r]]:e[t[r]]={};e[t[r]]=a},n.getter=function(e,t,a){for(var n=0;n<t.length;++n)e=a||t[n]in e?e[t[n]]:e[t[n]]={};return e},n.error=function(e){console.error("[VL Error]",e)}},{"datalib/src/bins/bins":4,"datalib/src/generate":5,"datalib/src/util":9}]},{},[1])(1)});
//# sourceMappingURL=vega-lite.min.js.map